import{$ as O,$a as i,Db as U,H as A,Hb as W,I as R,Ia as l,J as d,Ja as c,Jb as S,Kb as _,Lb as z,Lc as g,M as s,N as k,P,Q as a,Qa as x,Qc as J,Rc as v,Tc as K,Uc as f,Y as T,Z as F,ab as G,ba as M,bb as I,f as D,h as E,ia as h,kc as B,ma as H,oa as N,p as j,pa as $,v as w,vc as Y,wc as Z,x as C}from"./chunk-7YISJ2RF.js";var p=function(t){return t[t.Off=0]="Off",t[t.Error=1]="Error",t[t.Warning=2]="Warning",t[t.Info=3]="Info",t[t.Debug=4]="Debug",t}(p||{}),y=class t{static{this.level=p.Debug}static{this.outputs=[]}static enableProductionMode(){t.level=p.Warning}constructor(o){this.source=o}debug(...o){this.log(console.log,p.Debug,o)}info(...o){this.log(console.info,p.Info,o)}warn(...o){this.log(console.warn,p.Warning,o)}error(...o){this.log(console.error,p.Error,o)}log(o,e,r){if(e<=t.level){let n=this.source?["["+this.source+"]"].concat(r):r;o.apply(console,n),t.outputs.forEach(u=>u.apply(u,[this.source,e,...r]))}}};var Q=(()=>{class t{constructor(e){this.activeModal=e,this.title="An error has occurred!"}static{this.\u0275fac=function(r){return new(r||t)(H(Y))}}static{this.\u0275cmp=N({type:t,selectors:[["app-error-dialog"]],inputs:{title:"title",message:"message",status:"status"},decls:34,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-light"],[1,""],[1,"text-wrap","text-break"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,n){r&1&&(l(0,"div",0),i(1,`
  `),l(2,"h4",1),i(3),c(),i(4,`
  `),l(5,"button",2),x("click",function(){return n.activeModal.dismiss()}),i(6,`
    `),l(7,"span",3),i(8,"\xD7"),c(),i(9,`
  `),c(),i(10,`
`),c(),i(11,`
`),l(12,"div",4),i(13,`
  `),l(14,"div",5),i(15,`
    `),l(16,"p",6)(17,"strong"),i(18,"Error Code:"),c(),i(19),c(),i(20,`
    `),l(21,"p",7)(22,"strong"),i(23,"Error Message: "),c(),i(24),c(),i(25,`
  `),c(),i(26,`
`),c(),i(27,`
`),l(28,"div",8),i(29,`
  `),l(30,"button",9),x("click",function(){return n.activeModal.dismiss()}),i(31,"Close"),c(),i(32,`
`),c(),i(33,`
`)),r&2&&(h(3),G(n.title),h(16),I(" ",n.status,""),h(5),I(" ",n.message,""))},styles:[".error-message[_ngcontent-%COMP%]{background:#eee;padding:1rem;font-family:monospace;word-break:break-all}"]})}}return t})();var V=(()=>{class t{constructor(e){this.injector=e}openDialog(e,r){var n=this.injector.get(Z);let u=n.open(Q);u.componentInstance.message=e,u.componentInstance.status=r}static{this.\u0275fac=function(r){return new(r||t)(a(F))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var X=(()=>{class t{constructor(e,r){this.errorDialogService=e,this.zone=r}handleError(e){console.log(e),e instanceof W||(e=e.rejection),this.zone.run(()=>this.errorDialogService.openDialog(e?.message||"Undefined client error",e?.status)),console.error("Error from global error handler",e?.message)}static{this.\u0275fac=function(r){return new(r||t)(a(V),a(O))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac})}}return t})();var q=(()=>{class t extends g{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig||!!(e.routeConfig?.component&&e.routeConfig?.component===r.routeConfig?.component)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=T(t)))(n||t)}})()}static{this.\u0275prov=s({token:t,factory:t.\u0275fac})}}return t})();var L=(()=>{class t{intercept(e,r){return/^(http|https):/i.test(e.url)||(e=e.clone({url:v.serverUrl+e.url})),r.handle(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ft=new y("ErrorHandlerInterceptor"),tt=(()=>{class t{intercept(e,r){return r.handle(e).pipe(C(n=>this.errorHandler(n)))}errorHandler(e){throw v.production||ft.error("Request error",e),e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rt=(()=>{class t{constructor(e){this.authService=e}canActivate(e,r){return this.authService.isDoneLoading$.pipe(w(n=>n),A(n=>this.authService.isAuthenticated$),d(n=>n||this.authService.login(r.url)))}static{this.\u0275fac=function(r){return new(r||t)(a(f))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac})}}return t})();var b=(()=>{class t{constructor(){this.toasts=[]}show(e){this.toasts.push(e)}remove(e){this.toasts=this.toasts.filter(r=>r!==e)}clear(){this.toasts.splice(0,this.toasts.length)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var it=(()=>{class t{constructor(e,r){this.toastService=e,this.authService=r}canActivate(e,r){return this.authService.canActivateProtectedRoutes$.pipe(d(n=>n?!0:(this.showToaster("Access denied","Please login to continue access"),!1)))}showToaster(e,r){this.toastService.show({textOrTpl:r,classname:"bg-danger text-light",delay:15e3,header:e})}static{this.\u0275fac=function(r){return new(r||t)(a(b),a(f))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac})}}return t})();var nt=(()=>{class t{constructor(e,r){this.authService=e,this.toastService=r}canActivate(e,r){return this.authService.canActivateProtectedRoutes$.pipe(j(n=>{if(n&&e.data.role){let u=e.data.role;if(this.userProfile=this.authService.identityClaims,this.userProfile.role){if(this.userProfile.role.includes(u))return!0;this.showToaster("Access denied","You do not have role "+u)}}return!1}))}showToaster(e,r){this.toastService.show({textOrTpl:"Record has been updated.",classname:"bg-success text-light",delay:1e4})}static{this.\u0275fac=function(r){return new(r||t)(a(f),a(b))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac})}}return t})();var ie=(()=>{class t{static forRoot(){return{ngModule:t}}constructor(e){if(e)throw new Error(`${e} has already been loaded. Import Core module in the AppModule only.`)}static{this.\u0275fac=function(r){return new(r||t)(a(t,12))}}static{this.\u0275mod=$({type:t})}static{this.\u0275inj=k({providers:[f,it,nt,rt,{provide:S,useClass:L,multi:!0},{provide:S,useClass:tt,multi:!0},{provide:g,useClass:q},{provide:M,useClass:X},_(z())],imports:[U,K.forRoot(),B,J]})}}return t})();var pt=P;function dt(t){return!!t[pt]}var ht=Symbol("__destroy"),gt=Symbol("__decoratorApplied");function st(t){return typeof t=="string"?Symbol(`__destroy__${t}`):ht}function vt(t){t.prototype[gt]=!0}function at(t,o){t[o]||(t[o]=new E)}function ct(t,o){t[o]&&(t[o].next(),t[o].complete(),t[o]=null)}function lt(t){t instanceof D&&t.unsubscribe()}function yt(t){Array.isArray(t)&&t.forEach(lt)}function ut(t,o){return function(){var e;if(t&&t.call(this),ct(this,st()),o.arrayName)return yt(this[o.arrayName]);if(o.checkProperties)for(let r in this)!((e=o.blackList)===null||e===void 0)&&e.includes(r)||lt(this[r])}}function bt(t,o){t.prototype.ngOnDestroy=ut(t.prototype.ngOnDestroy,o)}function xt(t,o){let e=t.\u0275pipe;e.onDestroy=ut(e.onDestroy,o)}function le(t={}){return o=>{dt(o)?xt(o,t):bt(o,t),vt(o)}}function It(t,o,e){let r=t[o];at(t,e),t[o]=function(){r.apply(this,arguments),ct(this,e),t[o]=r}}function ue(t,o){return e=>{let r=st(o);return typeof o=="string"?It(t,o,r):at(t,r),e.pipe(R(t[r]))}}export{y as a,b,V as c,X as d,ie as e,le as f,ue as g};
