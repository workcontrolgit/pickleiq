import{c as Vi,d as ji}from"./chunk-XSJCTUYS.js";import{a as Ve}from"./chunk-U4HGQDOS.js";import{$ as ot,$a as s,$b as ie,A as tt,Aa as Yt,Ab as _e,Ac as Di,Ba as I,Bb as ci,Bc as Ti,C as Qt,Ca as Xt,Cb as at,Db as V,Ea as we,Fa as ei,Fc as ct,G as xt,Ga as ti,Gc as ft,H as _t,Ha as ii,Hc as Oi,Ia as p,J as it,Ja as a,Jc as Ri,Ka as x,La as ye,M as se,Ma as ge,Mc as Ai,N as E,Na as qe,Nc as Pi,O as qt,Oa as ee,Ob as fi,Pb as ui,Q as X,Qa as P,Qb as be,Qc as Et,Ra as h,Rb as ae,Rc as N,Sa as Ft,Sb as hi,T as nt,Ta as Ct,Tb as te,U as Ae,Ub as yi,V as Z,Va as ni,Vb as gi,W as z,Wa as oi,Wb as pe,Xa as Q,Xb as fe,Y as O,Ya as G,Yb as vi,Z as Zt,Za as W,Zb as xi,_ as Ue,_a as Y,_b as _i,a as A,aa as zt,ab as S,ac as pt,b as ke,bb as b,bc as mt,c as Wt,ca as bt,cb as ri,cc as bi,d as Ye,db as si,dc as Fi,eb as li,ec as Ci,fa as Jt,fb as ai,fc as dt,g as Xe,gc as Pe,h as et,hc as D,i as $t,ia as c,ib as st,ja as rt,jb as j,ka as He,kb as q,la as Qe,lb as Me,m as Ge,ma as v,mb as C,na as H,nb as lt,o as Se,oa as g,p as We,pa as k,pb as pi,qa as ce,ra as Kt,sa as F,sb as mi,t as Ut,ta as y,ub as ve,uc as Ei,v as $e,vc as ki,wb as xe,wc as Si,xb as le,xc as wi,ya as L,yc as Mi,z as Ht,za as f,zb as di,zc as Ii}from"./chunk-7YISJ2RF.js";var yn=["container"];function gn(t,o){}var vn=["*"];function xn(t,o){if(t&1&&x(0,"formly-field",1),t&2){let e=o.$implicit;f("field",e)}}var Ni=["fieldComponent"];function _n(t,o){let e=t._updateTreeValidity.bind(t);t._updateTreeValidity=()=>{},o(),t._updateTreeValidity=e}function bn(t,o,e){if(o.id)return o.id;let n=o.type;return!n&&o.template&&(n="template"),n instanceof nt&&(n=n.prototype.constructor.name),[t,n,o.key,e].join("_")}function R(t){return!Ce(t.key)&&t.key!==""&&(!Array.isArray(t.key)||t.key.length>0)}function Ie(t){if(!R(t))return[];if(t._keyPath?.key!==t.key){let o=[];if(typeof t.key=="string"){let e=t.key.indexOf("[")===-1?t.key:t.key.replace(/\[(\w+)\]/g,".$1");o=e.indexOf(".")!==-1?e.split("."):[e]}else Array.isArray(t.key)?o=t.key.slice(0):o=[`${t.key}`];B(t,"_keyPath",{key:t.key,path:o})}return t._keyPath.path.slice(0)}var Ot=["required","pattern","minLength","maxLength","min","max"];function ze(t,o){let e=Ie(t);if(e.length===0)return;let n=t;for(;n.parent;)n=n.parent,e=[...Ie(n),...e];if(o===void 0&&t.resetOnHide){let r=e.pop(),l=e.reduce((m,d)=>m[d]||{},n.model);delete l[r];return}Fn(n.model,e,o)}function Fn(t,o,e){for(let n=0;n<o.length-1;n++){let r=o[n];(!t[r]||!re(t[r]))&&(t[r]=/^\d+$/.test(o[n+1])?[]:{}),t=t[r]}t[o[o.length-1]]=me(e)}function De(t){let o=t.parent?t.parent.model:t.model;for(let e of Ie(t)){if(!o)return o;o=o[e]}return o}function je(t,...o){return o.forEach(e=>{for(let n in e)Ce(t[n])||Cn(t[n])?t[n]=me(e[n]):En(t[n],e[n])&&je(t[n],e[n])}),t}function Ce(t){return t==null}function ut(t){return t===void 0}function Cn(t){return t===""}function kt(t){return typeof t=="function"}function En(t,o){return re(t)&&re(o)&&Object.getPrototypeOf(t)===Object.getPrototypeOf(o)&&!(Array.isArray(t)||Array.isArray(o))}function re(t){return t!=null&&typeof t=="object"}function kn(t){return!!t&&typeof t.then=="function"}function me(t){if(!re(t)||Se(t)||t instanceof rt||t.changingThisBreaksApplicationSecurity||["RegExp","FileList","File","Blob"].indexOf(t.constructor?.name)!==-1)return t;if(t instanceof Set)return new Set(t);if(t instanceof Map)return new Map(t);if(t instanceof Uint8Array)return new Uint8Array(t);if(t instanceof Uint16Array)return new Uint16Array(t);if(t instanceof Uint32Array)return new Uint32Array(t);if(t._isAMomentObject&&kt(t.clone))return t.clone();if(t instanceof gi)return null;if(t instanceof Date)return new Date(t.getTime());if(Array.isArray(t))return t.slice(0).map(n=>me(n));let o=Object.getPrototypeOf(t),e=Object.create(o);return e=Object.setPrototypeOf(e,o),Object.keys(t).reduce((n,r)=>{let l=Object.getOwnPropertyDescriptor(t,r);return l.get?Object.defineProperty(n,r,l):n[r]=me(t[r]),n},e)}function B(t,o,e){Object.defineProperty(t,o,{enumerable:!1,writable:!0,configurable:!0}),t[o]=e}function Rt(t,o,e){let n=[],r=()=>{n.forEach(m=>m()),n=[]},l=$(t,o,({firstChange:m,currentValue:d})=>{!m&&e(),r(),re(d)&&d.constructor.name==="Object"&&Object.keys(d).forEach(u=>{n.push(Rt(t,[...o,u],e))})});return()=>{l.unsubscribe(),r()}}function $(t,o,e){t._observers||B(t,"_observers",{});let n=t;for(let d=0;d<o.length-1;d++)(!n[o[d]]||!re(n[o[d]]))&&(n[o[d]]=/^\d+$/.test(o[d+1])?[]:{}),n=n[o[d]];let r=o[o.length-1],l=o.join(".");t._observers[l]||(t._observers[l]={value:n[r],onChange:[]});let m=t._observers[l];if(n[r]!==m.value&&(m.value=n[r]),e&&m.onChange.indexOf(e)===-1&&(m.onChange.push(e),e({currentValue:m.value,firstChange:!0}),m.onChange.length>=1&&re(n))){let{enumerable:d}=Object.getOwnPropertyDescriptor(n,r)||{enumerable:!0};Object.defineProperty(n,r,{enumerable:d,configurable:!0,get:()=>m.value,set:u=>{if(u!==m.value){let _=m.value;m.value=u,m.onChange.forEach(w=>w({previousValue:_,currentValue:u,firstChange:!1}))}}})}return{setValue(d,u=!0){if(d===m.value)return;let _=m.value;m.value=d,m.onChange.forEach(w=>{w!==e&&u&&w({previousValue:_,currentValue:d,firstChange:!1})})},unsubscribe(){m.onChange=m.onChange.filter(d=>d!==e),m.onChange.length===0&&delete t._observers[l]}}}function Li(t,o){if(o=Array.isArray(o)?o.join("."):o,!!t.fieldGroup)for(let e=0,n=t.fieldGroup.length;e<n;e++){let r=t.fieldGroup[e],l=Array.isArray(r.key)?r.key.join("."):r.key;if(l===o)return r;if(r.fieldGroup&&(Ce(l)||o.indexOf(`${l}.`)===0)){let m=Li(r,Ce(l)?o:o.slice(l.length+1));if(m)return m}}}function St(t){t._componentRefs?.forEach(o=>{o instanceof He?o.injector.get(pi).markForCheck():o.markForCheck()})}function Sn(t){return t instanceof zt}function Gi(t){let o=n=>n.hide||n.expressions?.hide||n.hideExpression,e=!t.resetOnHide||!o(t);if(!o(t)&&t.resetOnHide){let n=t.parent;for(;n&&!o(n);)n=n.parent;e=!n||!o(n)}return!e}function yt(){return+lt.major>18||+lt.major>=18&&+lt.minor>=1}var Ze=new qt("FORMLY_CONFIG"),Fe=(()=>{class t{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.extras={checkExpressionOn:"modelChange",lazyRender:!0,resetFieldOnHide:!0,renderFormlyFieldElement:!0,showError(e){return e.formControl?.invalid&&(e.formControl?.touched||e.options.parentForm?.submitted||!!e.field.validation?.show)}},this.extensions={},this.presets={},this.extensionsByPriority={}}addConfig(e){e.types&&e.types.forEach(n=>this.setType(n)),e.validators&&e.validators.forEach(n=>this.setValidator(n)),e.wrappers&&e.wrappers.forEach(n=>this.setWrapper(n)),e.validationMessages&&e.validationMessages.forEach(n=>this.addValidatorMessage(n.name,n.message)),e.extensions&&this.setSortedExtensions(e.extensions),e.extras&&(this.extras=A(A({},this.extras),e.extras)),e.presets&&(this.presets=A(A({},this.presets),e.presets.reduce((n,r)=>ke(A({},n),{[r.name]:r.config}),{})))}setType(e){Array.isArray(e)?e.forEach(n=>this.setType(n)):(this.types[e.name]||(this.types[e.name]={name:e.name}),["component","extends","defaultOptions","wrappers"].forEach(n=>{e.hasOwnProperty(n)&&(this.types[e.name][n]=e[n])}))}getType(e,n=!1){if(e instanceof nt)return{component:e,name:e.prototype.constructor.name};if(!this.types[e]){if(n)throw new Error(`[Formly Error] The type "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return null}return this.mergeExtendedType(e),this.types[e]}getMergedField(e={}){let n=this.getType(e.type);if(!n)return;n.defaultOptions&&je(e,n.defaultOptions);let r=n.extends&&this.getType(n.extends).defaultOptions;r&&je(e,r),e?.optionsTypes&&e.optionsTypes.forEach(m=>{let d=this.getType(m).defaultOptions;d&&je(e,d)});let l=this.resolveFieldTypeRef(e);l?.instance?.defaultOptions&&je(e,l.instance.defaultOptions),!e.wrappers&&n.wrappers&&(e.wrappers=[...n.wrappers])}resolveFieldTypeRef(e={}){let n=this.getType(e.type);if(!n)return null;if(!n.component||n._componentRef)return n._componentRef;let{_viewContainerRef:r,_injector:l}=e.options;if(!r||!l)return null;let m=r.createComponent(n.component,{injector:l});B(n,"_componentRef",m);try{m.destroy()}catch(d){console.error(`An error occurred while destroying the Formly component type "${e.type}"`,d)}return n._componentRef}setWrapper(e){this.wrappers[e.name]=e,e.types&&e.types.forEach(n=>{this.setTypeWrapper(n,e.name)})}getWrapper(e){if(e instanceof nt)return{component:e,name:e.prototype.constructor.name};if(!this.wrappers[e])throw new Error(`[Formly Error] The wrapper "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[e]}setTypeWrapper(e,n){this.types[e]||(this.types[e]={}),this.types[e].wrappers||(this.types[e].wrappers=[]),this.types[e].wrappers.indexOf(n)===-1&&this.types[e].wrappers.push(n)}setValidator(e){this.validators[e.name]=e}getValidator(e){if(!this.validators[e])throw new Error(`[Formly Error] The validator "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[e]}addValidatorMessage(e,n){this.messages[e]=n}getValidatorMessage(e){return this.messages[e]}setSortedExtensions(e){e.forEach(n=>{let r=n.priority??1;this.extensionsByPriority[r]=ke(A({},this.extensionsByPriority[r]),{[n.name]:n.extension})}),this.extensions=Object.keys(this.extensionsByPriority).map(Number).sort((n,r)=>n-r).reduce((n,r)=>A(A({},n),this.extensionsByPriority[r]),{})}mergeExtendedType(e){if(!this.types[e].extends)return;let n=this.getType(this.types[e].extends);this.types[e].component||(this.types[e].component=n.component),this.types[e].wrappers||(this.types[e].wrappers=n.wrappers)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ht=(()=>{class t{constructor(e,n,r,l){this.config=e,this.injector=n,this.viewContainerRef=r,this.parentForm=l}buildForm(e,n=[],r,l){this.build({fieldGroup:n,model:r,form:e,options:l})}build(e){if(!this.config.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");e.parent||this._setOptions(e),_n(e.form,()=>{if(this._build(e),!e.parent||e.fieldArray){let n=e.options;e.parent&&Gi(e)&&n._hiddenFieldsForCheck?.push({field:e,default:!1}),n.checkExpressions?.(e,!0),n._detectChanges?.(e)}})}_build(e){if(!e)return;let n=Object.values(this.config.extensions);n.forEach(r=>r.prePopulate?.(e)),n.forEach(r=>r.onPopulate?.(e)),e.fieldGroup?.forEach(r=>this._build(r)),n.forEach(r=>r.postPopulate?.(e))}_setOptions(e){e.form=e.form||new pe({}),e.model=e.model||{},e.options=e.options||{};let n=e.options;n._viewContainerRef||B(n,"_viewContainerRef",this.viewContainerRef),n._injector||B(n,"_injector",this.injector),n.build||(n._buildForm=()=>{console.warn("Formly: 'options._buildForm' is deprecated since v6.0, use 'options.build' instead."),this.build(e)},n.build=(r=e)=>(this.build(r),r)),!n.parentForm&&this.parentForm&&(B(n,"parentForm",this.parentForm),yt()||$(n,["parentForm","submitted"],({firstChange:r})=>{r||n.detectChanges(e)}))}}return t.\u0275fac=function(e){return new(e||t)(X(Fe),X(Zt),X(H,8),X(pt,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wn(t,o=!1){let e=t.formControl,n=e._fields?e._fields.indexOf(t):-1;n!==-1&&e._fields.splice(n,1);let r=e.parent;if(!r)return;let l={emitEvent:o};if(r instanceof dt){let m=r.controls.findIndex(d=>d===e);m!==-1&&r.removeAt(m,l)}else if(r instanceof pe){let m=Ie(t),d=m[m.length-1];r.get([d])===e&&r.removeControl(d,l)}e.setParent(null)}function Mn(t){return t.formControl?t.formControl:t.shareFormControl===!1?null:t.form?.get(Ie(t))}function Wi(t,o,e=!1){if(o=o||t.formControl,o._fields||B(o,"_fields",[]),o._fields.indexOf(t)===-1&&o._fields.push(t),!t.formControl&&o){B(t,"formControl",o),o.setValidators(null),o.setAsyncValidators(null),t.props.disabled=!!t.props.disabled;let d=$(t,["props","disabled"],({firstChange:u,currentValue:_})=>{u||(_?t.formControl.disable():t.formControl.enable())});o instanceof fe&&o.registerOnDisabledChange(d.setValue)}if(!t.form||!R(t))return;let n=t.form,r=Ie(t),l=De(t);!(Ce(o.value)&&Ce(l))&&o.value!==l&&o instanceof fe&&o.patchValue(l);for(let d=0;d<r.length-1;d++){let u=r[d];n.get([u])||n.setControl(u,new pe({}),{emitEvent:e}),n=n.get([u])}let m=r[r.length-1];!t._hide&&n.get([m])!==o&&n.setControl(m,o,{emitEvent:e})}function Je(t,o=!1){let e=t.status,n=t.value;t.updateValueAndValidity({emitEvent:!1,onlySelf:o}),e!==t.status&&t.statusChanges.emit(t.status),n!==t.value&&t.valueChanges.emit(t.value)}function $i(t){delete t?._fields,t.setValidators(null),t.setAsyncValidators(null),(t instanceof pe||t instanceof dt)&&Object.values(t.controls).forEach(o=>$i(o))}var In=(()=>{class t{constructor(e){this.ref=e}ngOnChanges(){this.name=this.name||"formly-group"}}return t.\u0275fac=function(e){return new(e||t)(v(rt))},t.\u0275dir=ce({type:t,selectors:[["","formlyTemplate",""]],inputs:{name:[0,"formlyTemplate","name"]},standalone:!1,features:[Ae]}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Ui=(()=>{class t{constructor(e,n,r,l,m){this.config=e,this.renderer=n,this._elementRef=r,this.hostContainerRef=l,this.form=m,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.valueChangesUnsubscribe=()=>{}}get containerRef(){return this.config.extras.renderFormlyFieldElement?this.viewContainerRef:this.hostContainerRef}get elementRef(){return this.config.extras.renderFormlyFieldElement?this._elementRef:this.componentRefs?.[0]instanceof He?this.componentRefs[0].location:null}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngDoCheck(){this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e.unsubscribe()),this.hooksObservers.forEach(e=>e()),this.valueChangesUnsubscribe(),this.triggerHook("onDestroy")}renderField(e,n,r=[]){if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),r=this.field?.wrappers),r?.length>0){let[l,...m]=r,{component:d}=this.config.getWrapper(l),u=e.createComponent(d);this.attachComponentRef(u,n),$(u.instance,["fieldComponent"],({currentValue:_,previousValue:w,firstChange:U})=>{if(_){if(w&&w._lContainer===_._lContainer)return;let he=w?w.detach():null;he&&!he.destroyed?_.insert(he):this.renderField(_,n,m),!U&&u.changeDetectorRef.detectChanges()}})}else if(n?.type){let l=this.form?.templates?.find(d=>d.name===n.type),m;if(l)m=e.createEmbeddedView(l.ref,{$implicit:n});else{let{component:d}=this.config.getType(n.type,!0);m=e.createComponent(d)}this.attachComponentRef(m,n)}}triggerHook(e,n){if((e==="onInit"||e==="onChanges"&&n.field&&!n.field.firstChange)&&(this.valueChangesUnsubscribe(),this.valueChangesUnsubscribe=this.fieldChanges(this.field)),this.field?.hooks?.[e]&&(!n||n.field)){let r=this.field.hooks[e](this.field);if(Se(r)&&["onInit","afterContentInit","afterViewInit"].indexOf(e)!==-1){let l=r.subscribe();this.hooksObservers.push(()=>l.unsubscribe())}}e==="onChanges"&&n.field&&(this.resetRefs(n.field.previousValue),this.render())}attachComponentRef(e,n){this.componentRefs.push(e),n._componentRefs.push(e),e instanceof He&&Object.assign(e.instance,{field:n})}render(){if(this.field){if(!this.field.options){this.detectFieldBuild=!0;return}if(this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e.unsubscribe()),this.hostObservers=[$(this.field,["hide"],({firstChange:e,currentValue:n})=>{let r=this.containerRef;this.config.extras.lazyRender===!1?(e&&this.renderField(r,this.field),(!e||e&&n)&&this.elementRef&&this.renderer.setStyle(this.elementRef.nativeElement,"display",n?"none":"")):n?(r.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(r,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)),!e&&this.field.options.detectChanges(this.field)}),$(this.field,["className"],({firstChange:e,currentValue:n})=>{(!e||e&&n)&&(!this.config.extras.lazyRender||this.field.hide!==!0)&&this.elementRef&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",n)})],!yt())["touched","pristine","status"].forEach(e=>this.hostObservers.push($(this.field,["formControl",e],({firstChange:n})=>!n&&St(this.field))));else if(this.field.formControl){let e=this.field.formControl.events.subscribe(()=>St(this.field));this.hostObservers.push(e)}}}resetRefs(e){e&&(e._localFields?e._localFields=[]:B(this.field,"_localFields",[]),e._componentRefs?e._componentRefs=e._componentRefs.filter(n=>this.componentRefs.indexOf(n)===-1):B(this.field,"_componentRefs",[])),this.componentRefs=[]}fieldChanges(e){if(!e)return()=>{};let n=Rt(e,["props"],()=>e.options.detectChanges(e)),r=[()=>{n()}];for(let m of Object.keys(e._expressions||{})){let d=$(e,["_expressions",m],({currentValue:u,previousValue:_})=>{_?.subscription&&(_.subscription.unsubscribe(),_.subscription=null),Se(u.value$)&&(u.subscription=u.value$.subscribe())});r.push(()=>{e._expressions[m]?.subscription&&e._expressions[m].subscription.unsubscribe(),d.unsubscribe()})}for(let m of[["focus"],["template"],["fieldGroupClassName"],["validation","show"]]){let d=$(e,m,({firstChange:u})=>!u&&e.options.detectChanges(e));r.push(()=>d.unsubscribe())}if(e.formControl&&!e.fieldGroup){let m=e.formControl,d=m.valueChanges.pipe(We(U=>(e.parsers?.map(he=>U=he(U,e)),Object.is(U,e.formControl.value)||e.formControl.setValue(U),U)),Qt((U,he)=>!(U!==he||Array.isArray(U)||re(U))));m.value!==De(e)&&(d=d.pipe(xt(m.value)));let{updateOn:u,debounce:_}=e.modelOptions;(!u||u==="change")&&_?.default>0&&(d=m.valueChanges.pipe(Ht(_.default)));let w=d.subscribe(U=>{m._fields?.length>1&&m instanceof fe&&m.patchValue(U,{emitEvent:!1,onlySelf:!0}),R(e)&&ze(e,U),e.options.fieldChanges.next({value:U,field:e,type:"valueChanges"})});r.push(()=>w.unsubscribe())}let l=[];return $(e,["_localFields"],({currentValue:m})=>{l.forEach(d=>d()),l=(m||[]).map(d=>this.fieldChanges(d))}),()=>{r.forEach(m=>m()),l.forEach(m=>m())}}}return t.\u0275fac=function(e){return new(e||t)(v(Fe),v(Qe),v(bt),v(H),v(wt,8))},t.\u0275cmp=g({type:t,selectors:[["formly-field"]],viewQuery:function(e,n){if(e&1&&Q(yn,7,H),e&2){let r;G(r=W())&&(n.viewContainerRef=r.first)}},inputs:{field:"field"},standalone:!1,features:[Ae],decls:2,vars:0,consts:[["container",""]],template:function(e,n){e&1&&y(0,gn,0,0,"ng-template",null,0,C)},styles:["[_nghost-%COMP%]:empty{display:none}"]}),t})(),Hi=(()=>{class t{constructor(e,n,r,l){this.builder=e,this.config=n,this.ngZone=r,this.fieldTemplates=l,this.modelChange=new Ue,this.field={type:"formly-group"},this._modelChangeValue={},this.valueChangesUnsubscribe=()=>{}}set form(e){this.field.form=e}get form(){return this.field.form}set model(e){this.config.extras.immutable&&this._modelChangeValue===e||this.setField({model:e})}get model(){return this.field.model}set fields(e){this.setField({fieldGroup:e})}get fields(){return this.field.fieldGroup}set options(e){this.setField({options:e})}get options(){return this.field.options}set templates(e){this.fieldTemplates.templates=e}ngDoCheck(){this.config.extras.checkExpressionOn==="changeDetectionCheck"&&this.checkExpressionChange()}ngOnChanges(e){e.fields&&this.form&&$i(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.valueChangesUnsubscribe(),this.builder.build(this.field),this.valueChangesUnsubscribe=this.valueChanges())}ngOnDestroy(){this.valueChangesUnsubscribe()}checkExpressionChange(){this.field.options.checkExpressions?.(this.field)}valueChanges(){this.valueChangesUnsubscribe();let e=null;if(yt()){let l=this.options?.parentForm?.submitted;e=this.form.events.subscribe(()=>{l!==this.options?.parentForm?.submitted&&(this.options.detectChanges(this.field),l=this.options?.parentForm?.submitted)})}let n=[Rt(this.field.options,["formState"],()=>this.field.options.detectChanges(this.field))],r=this.field.options.fieldChanges.pipe($e(({field:l,type:m})=>R(l)&&m==="valueChanges"),_t(()=>Sn(this.ngZone)?Ge(null):this.ngZone.onStable.asObservable().pipe(tt(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=me(this.model))}));return()=>{n.forEach(l=>l()),e?.unsubscribe(),r.unsubscribe()}}setField(e){this.config.extras.immutable?this.field=A(A({},this.field),me(e)):Object.keys(e).forEach(n=>this.field[n]=e[n])}}return t.\u0275fac=function(e){return new(e||t)(v(ht),v(Fe),v(ot),v(wt))},t.\u0275cmp=g({type:t,selectors:[["formly-form"]],contentQueries:function(e,n,r){if(e&1&&oi(r,In,4),e&2){let l;G(l=W())&&(n.templates=l)}},inputs:{form:"form",model:"model",fields:"fields",options:"options"},outputs:{modelChange:"modelChange"},standalone:!1,features:[ai([ht,wt]),Ae],decls:1,vars:1,consts:[[3,"field"]],template:function(e,n){e&1&&x(0,"formly-field",0),e&2&&f("field",n.field)},dependencies:[Ui],encapsulation:2,changeDetection:0}),t})(),J=(()=>{class t{constructor(e,n,r){this.renderer=e,this.elementRef=n,this.uiAttributesCache={},this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change"],callback:(l,m)=>{switch(l){case"focus":return this.onFocus(m);case"blur":return this.onBlur(m);case"change":return this.onChange(m);default:return this.props[l](this.field,m)}}},this.document=r}get props(){return this.field.props||{}}get fieldAttrElements(){return this.field?._elementRefs||[]}ngOnChanges(e){e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(n=>n()),this.uiEvents.events.forEach(n=>{(this.props?.[n]||["focus","blur","change"].indexOf(n)!==-1)&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,n,r=>this.uiEvents.callback(n,r)))}),this.props?.attributes&&$(this.field,["props","attributes"],({currentValue:n,previousValue:r})=>{r&&Object.keys(r).forEach(l=>this.removeAttribute(l)),n&&Object.keys(n).forEach(l=>{n[l]!=null&&this.setAttribute(l,n[l])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),this.fieldAttrElements.length===1&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),this.focusObserver=$(this.field,["focus"],({currentValue:n})=>{this.toggleFocus(n)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){let e=this.elementRef.nativeElement;this.uiAttributes=[...Ot,"tabindex","placeholder","readonly","disabled","step"].filter(n=>!e.hasAttribute||!e.hasAttribute(n))}for(let e=0;e<this.uiAttributes.length;e++){let n=this.uiAttributes[e],r=this.props[n];this.uiAttributesCache[n]!==r&&(!this.props.attributes||!this.props.attributes.hasOwnProperty(n.toLowerCase()))&&(this.uiAttributesCache[n]=r,r||r===0?this.setAttribute(n,r===!0?n:`${r}`):this.removeAttribute(n))}}ngOnDestroy(){this.uiEvents.listeners.forEach(e=>e()),this.detachElementRef(this.field),this.focusObserver?.unsubscribe()}toggleFocus(e){let n=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!n||!n.nativeElement.focus)return;let r=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:l})=>this.document.activeElement===l||l.contains(this.document.activeElement));e&&!r?Promise.resolve().then(()=>n.nativeElement.focus()):!e&&r&&Promise.resolve().then(()=>n.nativeElement.blur())}onFocus(e){this.focusObserver?.setValue(!0),this.props.focus?.(this.field,e)}onBlur(e){this.focusObserver?.setValue(!1),this.props.blur?.(this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){this.props.change?.(this.field,e),this.field.formControl?.markAsDirty()}attachElementRef(e){e&&(e._elementRefs?.indexOf(this.elementRef)===-1?e._elementRefs.push(this.elementRef):B(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){let n=e?._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;n!==-1&&e._elementRefs.splice(n,1)}setAttribute(e,n){this.renderer.setAttribute(this.elementRef.nativeElement,e,n)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return t.\u0275fac=function(e){return new(e||t)(v(Qe),v(bt),v(mi))},t.\u0275dir=ce({type:t,selectors:[["","formlyAttributes",""]],hostBindings:function(e,n){e&1&&P("change",function(l){return n.onHostChange(l)})},inputs:{field:[0,"formlyAttributes","field"],id:"id"},standalone:!1,features:[Ae]}),t})(),Re=(()=>{class t{constructor(){this.field={}}set _formlyControls(e){let n=this.field;n._localFields=e.map(r=>r.control._fields||[]).flat().filter(r=>r.formControl!==this.field.formControl)}get model(){return this.field.model}get form(){return this.field.form}get options(){return this.field.options}get key(){return this.field.key}get formControl(){return this.field.formControl}get props(){return this.field.props||{}}get to(){return this.props}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options?.formState||{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ce({type:t,viewQuery:function(e,n){if(e&1&&Q(hi,5),e&2){let r;G(r=W())&&(n._formlyControls=r)}},inputs:{field:"field"},standalone:!1}),t})(),Dn=(()=>{class t extends Re{}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275cmp=g({type:t,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,n){e&2&&Xt(n.field.fieldGroupClassName||"")},standalone:!1,features:[F],ngContentSelectors:vn,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,n){e&1&&(Ft(),y(0,xn,1,1,"formly-field",0),Ct(1)),e&2&&f("ngForOf",n.field.fieldGroup)},dependencies:[Ui,xe],encapsulation:2,changeDetection:0}),t})(),Qi=(()=>{class t{constructor(e){this.config=e}ngOnChanges(){let e=Ot.map(n=>`templateOptions.${n}`);this.errorMessage$=Ut(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe($e(({field:n,type:r,property:l})=>n===this.field&&r==="expressionChanges"&&(l.indexOf("validation")!==-1||e.indexOf(l)!==-1))):Ge(null)).pipe(xt(null),_t(()=>Se(this.errorMessage)?this.errorMessage:Ge(this.errorMessage)))}get errorMessage(){let e=this.field.formControl;for(let n in e.errors)if(e.errors.hasOwnProperty(n)){let r=this.config.getValidatorMessage(n);if(re(e.errors[n])){if(e.errors[n].errorPath)return;e.errors[n].message&&(r=e.errors[n].message)}return this.field.validation?.messages?.[n]&&(r=this.field.validation.messages[n]),this.field.validators?.[n]?.message&&(r=this.field.validators[n].message),this.field.asyncValidators?.[n]?.message&&(r=this.field.asyncValidators[n].message),typeof r=="function"?r(e.errors[n],this.field):r}}}return t.\u0275fac=function(e){return new(e||t)(v(Fe))},t.\u0275cmp=g({type:t,selectors:[["formly-validation-message"]],inputs:{field:"field"},standalone:!1,features:[Ae],decls:2,vars:3,template:function(e,n){e&1&&(s(0),j(1,"async")),e&2&&S(q(1,1,n.errorMessage$))},dependencies:[_e],encapsulation:2,changeDetection:0}),t})();var Ee=(()=>{class t extends Re{set _formlyControls(e){}set _staticContent(e){this.fieldComponent=e}}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275dir=ce({type:t,viewQuery:function(e,n){if(e&1&&(Q(Ni,5,H),Q(Ni,7,H)),e&2){let r;G(r=W())&&(n.fieldComponent=r.first),G(r=W())&&(n._staticContent=r.first)}},standalone:!1,features:[F]}),t})(),Tn=(()=>{class t extends Re{constructor(e){super(),this.sanitizer=e,this.innerHtml={}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.props.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return t.\u0275fac=function(e){return new(e||t)(v(fi))},t.\u0275cmp=g({type:t,selectors:[["formly-template"]],standalone:!1,features:[F],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,n){e&1&&x(0,"div",0),e&2&&f("innerHtml",n.template,Jt)},encapsulation:2,changeDetection:0}),t})();function On(t,o){try{return Function(...o,`return ${t};`)}catch(e){console.error(e)}}function Rn(t,o,e){return typeof t=="function"?t.apply(o,e):!!t}var Mt=class{onPopulate(o){if(o._expressions)return;B(o,"_expressions",{}),$(o,["hide"],({currentValue:n,firstChange:r})=>{B(o,"_hide",!!n),(!r||r&&n===!0)&&(o.props.hidden=n,o.options._hiddenFieldsForCheck.push({field:o}))}),o.hideExpression&&$(o,["hideExpression"],({currentValue:n})=>{o._expressions.hide=this.parseExpressions(o,"hide",typeof n=="boolean"?()=>n:n)});let e=(n,r)=>{typeof r=="string"||kt(r)?o._expressions[n]=this.parseExpressions(o,n,r):r instanceof Xe&&(o._expressions[n]={value$:r.pipe(it(l=>{this.evalExpr(o,n,l),o.options._detectChanges(o)}))})};o.expressions=o.expressions||{};for(let n of Object.keys(o.expressions))$(o,["expressions",n],({currentValue:r})=>{e(n,kt(r)?(...l)=>r(o,l[3]):r)});o.expressionProperties=o.expressionProperties||{};for(let n of Object.keys(o.expressionProperties))$(o,["expressionProperties",n],({currentValue:r})=>e(n,r))}postPopulate(o){if(!o.parent&&!o.options.checkExpressions){let e=!1;o.options.checkExpressions=(n,r)=>{if(e)return;e=!0;let l=this.checkExpressions(n,r),m=o.options;m._hiddenFieldsForCheck.sort(d=>d.field.hide?-1:1).forEach(d=>this.changeHideState(d.field,d.field.hide??d.default,!r)),m._hiddenFieldsForCheck=[],l&&this.checkExpressions(o),e=!1},o.options._checkField=(n,r)=>{console.warn("Formly: 'options._checkField' is deprecated since v6.0, use 'options.checkExpressions' instead."),o.options.checkExpressions(n,r)}}}parseExpressions(o,e,n){let r;if(o.parent&&["hide","props.disabled"].includes(e)){let m=d=>e==="hide"?d.hide:d.props.disabled;r=()=>{let d=o.parent;for(;d.parent&&!m(d);)d=d.parent;return m(d)}}n=n||(()=>!1),typeof n=="string"&&(n=On(n,["model","formState","field"]));let l;return{callback:m=>{try{let d=Rn(r?(...u)=>r(o)||n(...u):n,{field:o},[o.model,o.options.formState,o,m]);return m||l!==d&&(!re(d)||Se(d)||JSON.stringify(d)!==JSON.stringify(l))?(l=d,this.evalExpr(o,e,d),!0):!1}catch(d){throw d.message=`[Formly Error] [Expression "${e}"] ${d.message}`,d}}}}checkExpressions(o,e=!1){if(!o)return!1;let n=!1;if(o._expressions)for(let r of Object.keys(o._expressions))o._expressions[r].callback?.(e)&&(n=!0);return o.fieldGroup?.forEach(r=>this.checkExpressions(r,e)&&(n=!0)),n}changeDisabledState(o,e){o.fieldGroup&&o.fieldGroup.filter(n=>!n._expressions.hasOwnProperty("props.disabled")).forEach(n=>this.changeDisabledState(n,e)),R(o)&&o.props.disabled!==e&&(o.props.disabled=e)}changeHideState(o,e,n){if(o.fieldGroup&&o.fieldGroup.filter(r=>r&&!r._expressions.hide).forEach(r=>this.changeHideState(r,e,n)),o.formControl&&R(o)){B(o,"_hide",!!(e||o.hide));let r=o.formControl;r._fields?.length>1&&Je(r),e===!0&&(!r._fields||r._fields.every(l=>!!l._hide))?(wn(o,!0),n&&o.resetOnHide&&(ze(o,void 0),o.formControl.reset({value:void 0,disabled:o.formControl.disabled}),o.options.fieldChanges.next({value:void 0,field:o,type:"valueChanges"}),o.fieldGroup&&o.formControl instanceof dt&&(o.fieldGroup.length=0))):e===!1&&(o.resetOnHide&&!ut(o.defaultValue)&&ut(De(o))&&ze(o,o.defaultValue),Wi(o,void 0,!0),o.resetOnHide&&o.fieldArray&&o.fieldGroup?.length!==o.model?.length&&o.options.build(o))}o.options.fieldChanges&&o.options.fieldChanges.next({field:o,type:"hidden",value:e})}evalExpr(o,e,n){if(e.indexOf("model.")===0){let r=e.replace(/^model\./,""),l=o.fieldGroup?o:o.parent,m=o?.key===r?o.formControl:o.form.get(r);!m&&o.get(r)&&(m=o.get(r).formControl),ze({key:r,parent:l,model:o.model},n),m&&!(Ce(m.value)&&Ce(n))&&m.value!==n&&m.patchValue(n)}else{try{let r=o,l=this._evalExpressionPath(o,e),m=l.length-1;for(let d=0;d<m;d++)r=r[l[d]];r[l[m]]=n}catch(r){throw r.message=`[Formly Error] [Expression "${e}"] ${r.message}`,r}["templateOptions.disabled","props.disabled"].includes(e)&&R(o)&&this.changeDisabledState(o,n)}this.emitExpressionChanges(o,e,n)}emitExpressionChanges(o,e,n){o.options.fieldChanges&&o.options.fieldChanges.next({field:o,type:"expressionChanges",property:e,value:n})}_evalExpressionPath(o,e){if(o._expressions[e]&&o._expressions[e].paths)return o._expressions[e].paths;let n=[];return e.indexOf("[")===-1?n=e.split("."):e.split(/[[\]]{1,2}/).filter(r=>r).forEach(r=>{let l=r.match(/['|"](.*?)['|"]/);l?n.push(l[1]):n.push(...r.split(".").filter(m=>m))}),o._expressions[e]&&(o._expressions[e].paths=n),n}},It=class{constructor(o){this.config=o}onPopulate(o){this.initFieldValidation(o,"validators"),this.initFieldValidation(o,"asyncValidators")}initFieldValidation(o,e){let n=[];if(e==="validators"&&!(o.hasOwnProperty("fieldGroup")&&!R(o))&&n.push(this.getPredefinedFieldValidation(o)),o[e])for(let r of Object.keys(o[e]))r==="validation"?n.push(...o[e].validation.map(l=>this.wrapNgValidatorFn(o,l))):n.push(this.wrapNgValidatorFn(o,o[e][r],r));B(o,"_"+e,n)}getPredefinedFieldValidation(o){let e=[];return Ot.forEach(n=>$(o,["props",n],({currentValue:r,firstChange:l})=>{e=e.filter(m=>m!==n),n==="required"&&r!=null&&typeof r!="boolean"&&console.warn(`Formly: Invalid prop 'required' of type '${typeof r}', expected 'boolean' (Field:${o.key}).`),r!=null&&r!==!1&&e.push(n),!l&&o.formControl&&Je(o.formControl)})),n=>e.length===0?null:ae.compose(e.map(r=>()=>{let l=o.props[r];switch(r){case"required":return ae.required(n);case"pattern":return ae.pattern(l)(n);case"minLength":let m=ae.minLength(l)(n),d=this.config.getValidatorMessage("minlength")||o.validation?.messages?.minlength?"minlength":"minLength";return m?{[d]:m.minlength}:null;case"maxLength":let u=ae.maxLength(l)(n),_=this.config.getValidatorMessage("maxlength")||o.validation?.messages?.maxlength?"maxlength":"maxLength";return u?{[_]:u.maxlength}:null;case"min":return ae.min(l)(n);case"max":return ae.max(l)(n);default:return null}}))(n)}wrapNgValidatorFn(o,e,n){let r;if(typeof e=="string"&&(r=me(this.config.getValidator(e))),typeof e=="object"&&e.name&&(r=me(this.config.getValidator(e.name)),e.options&&(r.options=e.options)),typeof e=="object"&&e.expression){let l=e,{expression:m}=l,d=Ye(l,["expression"]);r={name:n,validation:m,options:Object.keys(d).length>0?d:null}}return typeof e=="function"&&(r={name:n,validation:e}),m=>{let d=r.validation(m,o,r.options);return kn(d)?d.then(u=>this.handleResult(o,n?!!u:u,r)):Se(d)?d.pipe(We(u=>this.handleResult(o,n?!!u:u,r))):this.handleResult(o,n?!!d:d,r)}}handleResult(o,e,{name:n,options:r}){typeof e=="boolean"&&(e=e?null:{[n]:r||!0});let l=o.formControl;return l?._childrenErrors?.[n]?.(),re(e)&&Object.keys(e).forEach(m=>{let d=e[m].errorPath?e[m].errorPath:r?.errorPath,u=d?o.formControl.get(d):null;if(u){let _=e[m],{errorPath:w}=_,U=Ye(_,["errorPath"]);u.setErrors(ke(A({},u.errors||{}),{[m]:U})),!l._childrenErrors&&B(l,"_childrenErrors",{}),l._childrenErrors[m]=()=>{let Gt=u.errors||{},{[m]:he}=Gt,Lt=Ye(Gt,[Wt(m)]);u.setErrors(Object.keys(Lt).length===0?null:Lt)}}}),e}},Dt=class{prePopulate(o){this.root||(this.root=o),o.parent&&Object.defineProperty(o,"form",{get:()=>o.parent.formControl,configurable:!0})}onPopulate(o){o.hasOwnProperty("fieldGroup")&&!R(o)?B(o,"formControl",o.form):this.addFormControl(o)}postPopulate(o){if(this.root!==o)return;if(this.root=null,this.setValidators(o)&&o.parent){let n=o.parent;for(;n;)(R(n)||!n.parent)&&Je(n.formControl,!0),n=n.parent}}addFormControl(o){let e=Mn(o);if(!o.fieldArray){if(e){if(e instanceof fe){let n=R(o)?De(o):o.defaultValue;e.defaultValue=n}}else{let n={updateOn:o.modelOptions.updateOn};if(o.fieldGroup)e=new pe({},n);else{let r=R(o)?De(o):o.defaultValue;e=new fe({value:r,disabled:!!o.props.disabled},ke(A({},n),{initialValueIsDefault:!0}))}}Wi(o,e)}}setValidators(o,e=!1){e===!1&&R(o)&&o.props?.disabled&&(e=!0);let n=!1;if(o.fieldGroup?.forEach(r=>r&&this.setValidators(r,e)&&(n=!0)),R(o)||!o.parent||!R(o)&&!o.fieldGroup){let{formControl:r}=o;if(r&&(R(o)&&r instanceof fe&&(e&&r.enabled&&(r.disable({emitEvent:!1,onlySelf:!0}),n=!0),!e&&r.disabled&&(r.enable({emitEvent:!1,onlySelf:!0}),n=!0)),r.validator===null&&this.hasValidators(o,"_validators")&&(r.setValidators(()=>{let l=ae.compose(this.mergeValidators(o,"_validators"));return l?l(r):null}),n=!0),r.asyncValidator===null&&this.hasValidators(o,"_asyncValidators")&&(r.setAsyncValidators(()=>{let l=ae.composeAsync(this.mergeValidators(o,"_asyncValidators"));return l?l(r):Ge(null)}),n=!0),n)){Je(r,!0);let l=r.parent;for(let m=1;m<Ie(o).length;m++)l&&(Je(l,!0),l=l.parent)}}return n}hasValidators(o,e){let n=o.formControl;return n?._fields?.length>1&&n._fields.some(r=>r[e].length>0)||o[e].length>0?!0:o.fieldGroup?.some(r=>r?.fieldGroup&&!R(r)&&this.hasValidators(r,e))}mergeValidators(o,e){let n=[],r=o.formControl;return r?._fields?.length>1?r._fields.filter(l=>!l._hide).forEach(l=>n.push(...l[e])):o[e]&&n.push(...o[e]),o.fieldGroup&&o.fieldGroup.filter(l=>l?.fieldGroup&&!R(l)).forEach(l=>n.push(...this.mergeValidators(l,e))),n}},Tt=class{constructor(o){this.config=o,this.formId=0}prePopulate(o){let e=o.parent;this.initRootOptions(o),this.initFieldProps(o),e&&(Object.defineProperty(o,"options",{get:()=>e.options,configurable:!0}),Object.defineProperty(o,"model",{get:()=>R(o)&&o.fieldGroup?De(o):e.model,configurable:!0})),Object.defineProperty(o,"get",{value:n=>Li(o,n),configurable:!0}),this.getFieldComponentInstance(o).prePopulate?.(o)}onPopulate(o){this.initFieldOptions(o),this.getFieldComponentInstance(o).onPopulate?.(o),o.fieldGroup&&o.fieldGroup.forEach((e,n)=>{e&&(Object.defineProperty(e,"parent",{get:()=>o,configurable:!0}),Object.defineProperty(e,"index",{get:()=>n,configurable:!0})),this.formId++})}postPopulate(o){this.getFieldComponentInstance(o).postPopulate?.(o)}initFieldProps(o){o.props??(o.props=o.templateOptions),Object.defineProperty(o,"templateOptions",{get:()=>o.props,set:e=>o.props=e,configurable:!0})}initRootOptions(o){if(o.parent)return;let e=o.options;o.options.formState=o.options.formState||{},e.showError||(e.showError=this.config.extras.showError),e.fieldChanges||B(e,"fieldChanges",new et),e._hiddenFieldsForCheck||(e._hiddenFieldsForCheck=[]),e._markForCheck=n=>{console.warn("Formly: 'options._markForCheck' is deprecated since v6.0, use 'options.detectChanges' instead."),e.detectChanges(n)},e._detectChanges=n=>{n._componentRefs&&St(n),n.fieldGroup?.forEach(r=>r&&e._detectChanges(r))},e.detectChanges=n=>{n.options.checkExpressions?.(n),e._detectChanges(n)},e.resetModel=n=>{n=me(n??e._initialModel),o.model&&(Object.keys(o.model).forEach(r=>delete o.model[r]),Object.assign(o.model,n||{})),yt()||$(e,["parentForm","submitted"]).setValue(!1,!1),e.build(o),o.form.reset(o.model)},e.updateInitialValue=n=>e._initialModel=me(n??o.model),o.options.updateInitialValue()}initFieldOptions(o){je(o,{id:bn(`formly_${this.formId}`,o,o.index),hooks:{},modelOptions:{},validation:{messages:{}},props:!o.type||!R(o)?{}:{label:"",placeholder:"",disabled:!1}}),this.config.extras.resetFieldOnHide&&o.resetOnHide!==!1&&(o.resetOnHide=!0),o.type!=="formly-template"&&(o.template||o.expressions?.template||o.expressionProperties?.template)&&(o.type="formly-template"),!o.type&&o.fieldGroup&&(o.type="formly-group"),o.type&&this.config.getMergedField(o),R(o)&&!ut(o.defaultValue)&&ut(De(o))&&!Gi(o)&&ze(o,o.defaultValue),o.wrappers=o.wrappers||[]}getFieldComponentInstance(o){let e=()=>{let n=this.config.resolveFieldTypeRef(o),r=o._componentRefs?.slice(-1)[0];return r instanceof He&&r?.componentType===n?.componentType&&(n=r),n?.instance};return o._proxyInstance||B(o,"_proxyInstance",new Proxy({},{get:(n,r)=>e()?.[r],set:(n,r,l)=>e()[r]=l})),o._proxyInstance}};function Bi(t){return{types:[{name:"formly-group",component:Dn},{name:"formly-template",component:Tn}],extensions:[{name:"core",extension:new Tt(t),priority:-250},{name:"field-validation",extension:new It(t),priority:-200},{name:"field-form",extension:new Dt,priority:-150},{name:"field-expression",extension:new Mt,priority:-100}]}}var T=(()=>{class t{constructor(e,n=[]){n&&n.forEach(r=>e.addConfig(r))}static forRoot(e={}){return{ngModule:t,providers:[{provide:Ze,multi:!0,useFactory:Bi,deps:[Fe]},{provide:Ze,useValue:e,multi:!0},Fe,ht]}}static forChild(e={}){return{ngModule:t,providers:[{provide:Ze,multi:!0,useFactory:Bi,deps:[Fe]},{provide:Ze,useValue:e,multi:!0},ht]}}}return t.\u0275fac=function(e){return new(e||t)(X(Fe),X(Ze,8))},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V]]}),t})();function An(t,o){t&1&&(p(0,"span",9),s(1,"*"),a())}function Pn(t,o){if(t&1&&(p(0,"label",7),s(1),y(2,An,2,0,"span",8),a()),t&2){let e=h(2);L("for",e.id),c(),b(" ",e.props.label," "),c(),f("ngIf",e.props.required&&e.props.hideRequiredMarker!==!0)}}function Vn(t,o){if(t&1&&y(0,Pn,3,3,"label",6),t&2){let e=h();f("ngIf",e.props.label&&e.props.hideLabel!==!0)}}function jn(t,o){if(t&1&&(ye(0),qe(1,10),ge()),t&2){h();let e=Y(1);c(),f("ngTemplateOutlet",e)}}function Nn(t,o){}function Bn(t,o){if(t&1&&(ye(0),qe(1,10),ge()),t&2){h();let e=Y(1);c(),f("ngTemplateOutlet",e)}}function Ln(t,o){if(t&1&&(p(0,"div",11),x(1,"formly-validation-message",12),a()),t&2){let e=h();Yt("display","block"),c(),ni("id","",e.id,"-formly-validation-error"),f("field",e.field)}}function Gn(t,o){if(t&1&&(p(0,"small",13),s(1),a()),t&2){let e=h();c(),S(e.props.description)}}var Wn=["fieldTypeTemplate"],$n=(()=>{class t extends Ee{}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275cmp=g({type:t,selectors:[["formly-wrapper-form-field"]],standalone:!1,features:[F],decls:9,vars:8,consts:[["labelTemplate",""],["fieldComponent",""],[1,"mb-3"],[4,"ngIf"],["class","invalid-feedback",3,"display",4,"ngIf"],["class","form-text text-muted",4,"ngIf"],["class","form-label",4,"ngIf"],[1,"form-label"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[3,"ngTemplateOutlet"],[1,"invalid-feedback"],["role","alert",3,"id","field"],[1,"form-text","text-muted"]],template:function(e,n){e&1&&(y(0,Vn,1,1,"ng-template",null,0,C),p(2,"div",2),y(3,jn,2,1,"ng-container",3)(4,Nn,0,0,"ng-template",null,1,C)(6,Bn,2,1,"ng-container",3)(7,Ln,2,5,"div",4)(8,Gn,2,1,"small",5),a()),e&2&&(c(2),I("form-floating",n.props.labelPosition==="floating")("has-error",n.showError),c(),f("ngIf",n.props.labelPosition!=="floating"),c(3),f("ngIf",n.props.labelPosition==="floating"),c(),f("ngIf",n.showError),c(),f("ngIf",n.props.description))},dependencies:[Qi,le,di],encapsulation:2}),t})(),K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,T.forChild({wrappers:[{name:"form-field",component:$n}]})]]}),t})(),ne=(()=>{class t extends Re{constructor(e){super(),this.hostContainerRef=e}set content(e){e&&this.hostContainerRef&&this.hostContainerRef.createEmbeddedView(e)}}return t.\u0275fac=function(e){return new(e||t)(v(H,8))},t.\u0275dir=ce({type:t,viewQuery:function(e,n){if(e&1&&Q(Wn,7),e&2){let r;G(r=W())&&(n.content=r.first)}},standalone:!1,features:[F]}),t})();function Un(t,o){if(t&1&&x(0,"input",3),t&2){let e=h(2);I("is-invalid",e.showError),f("type",e.type)("formControl",e.formControl)("formlyAttributes",e.field),L("aria-describedby",e.id+"-formly-validation-error")("aria-invalid",e.showError)}}function Hn(t,o){if(t&1&&x(0,"input",4),t&2){let e=h(2);I("is-invalid",e.showError),f("formControl",e.formControl)("formlyAttributes",e.field),L("aria-describedby",e.id+"-formly-validation-error")("aria-invalid",e.showError)}}function Qn(t,o){if(t&1&&y(0,Un,1,7,"input",2)(1,Hn,1,6,"ng-template",null,1,C),t&2){let e=Y(2),n=h();f("ngIf",n.type!=="number")("ngIfElse",e)}}var qn=(()=>{class t extends ne{get type(){return this.props.type||"text"}}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275cmp=g({type:t,selectors:[["formly-field-input"]],standalone:!1,features:[F],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["numberTmp",""],["class","form-control",3,"type","formControl","formlyAttributes","is-invalid",4,"ngIf","ngIfElse"],[1,"form-control",3,"type","formControl","formlyAttributes"],["type","number",1,"form-control",3,"formControl","formlyAttributes"]],template:function(e,n){e&1&&y(0,Qn,3,2,"ng-template",null,0,C)},dependencies:[le,be,te,ie,J,xi],encapsulation:2,changeDetection:0}),t})(),qi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,K,T.forChild({types:[{name:"input",component:qn,wrappers:["form-field"]},{name:"string",extends:"input"},{name:"number",extends:"input",defaultOptions:{props:{type:"number"}}},{name:"integer",extends:"input",defaultOptions:{props:{type:"number"}}}]})]]}),t})();function Zn(t,o){if(t&1&&x(0,"textarea",1),t&2){let e=h();I("is-invalid",e.showError),f("formControl",e.formControl)("cols",e.props.cols)("rows",e.props.rows)("formlyAttributes",e.field),L("aria-describedby",e.id+"-formly-validation-error")("aria-invalid",e.showError)}}var zn=(()=>{class t extends ne{constructor(){super(...arguments),this.defaultOptions={props:{cols:1,rows:1}}}}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275cmp=g({type:t,selectors:[["formly-field-textarea"]],standalone:!1,features:[F],decls:2,vars:0,consts:[["fieldTypeTemplate",""],[1,"form-control",3,"formControl","cols","rows","formlyAttributes"]],template:function(e,n){e&1&&y(0,Zn,1,8,"ng-template",null,0,C)},dependencies:[be,te,ie,J],encapsulation:2,changeDetection:0}),t})(),Zi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,K,T.forChild({types:[{name:"textarea",component:zn,wrappers:["form-field"]}]})]]}),t})();var Ne=(()=>{class t{transform(e,n){return e instanceof Xe?this.dispose():e=this.observableOf(e,n),e.pipe(We(r=>this.transformOptions(r,n)))}ngOnDestroy(){this.dispose()}transformOptions(e,n){let r=this.transformSelectProps(n),l=[],m={};return e?.forEach(d=>{let u=this.transformOption(d,r);if(u.group){let _=m[u.label];_===void 0?m[u.label]=l.push(u)-1:u.group.forEach(w=>l[_].group.push(w))}else l.push(u)}),l}transformOption(e,n){let r=n.groupProp(e);return Array.isArray(r)?{label:n.labelProp(e),group:r.map(l=>this.transformOption(l,n))}:(e={label:n.labelProp(e),value:n.valueProp(e),disabled:!!n.disabledProp(e)},r?{label:r,group:[e]}:e)}transformSelectProps(e){let n=e?.props||e?.templateOptions||{},r=l=>typeof l=="function"?l:m=>m[l];return{groupProp:r(n.groupProp||"group"),labelProp:r(n.labelProp||"label"),valueProp:r(n.valueProp||"value"),disabledProp:r(n.disabledProp||"disabled")}}dispose(){this._options&&(this._options.complete(),this._options=null),this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}observableOf(e,n){return this.dispose(),n&&n.options&&n.options.fieldChanges&&(this._subscription=n.options.fieldChanges.pipe($e(({property:r,type:l,field:m})=>l==="expressionChanges"&&(r.indexOf("templateOptions.options")===0||r.indexOf("props.options")===0)&&m===n&&Array.isArray(m.props.options)&&!!this._options),it(()=>this._options.next(n.props.options))).subscribe()),this._options=new $t(e),this._options.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Kt({name:"formlySelectOptions",type:t,pure:!0,standalone:!1}),t})(),Be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({}),t})();function Jn(t,o){if(t&1&&(p(0,"div",2),x(1,"input",3),p(2,"label",4),s(3),a()()),t&2){let e=o.$implicit,n=o.index,r=h(2);I("form-check-inline",r.props.formCheck==="inline"),c(),I("is-invalid",r.showError),f("id",r.id+"_"+n)("name",r.field.name||r.id)("value",e.value)("formControl",e.disabled?r.disabledControl:r.formControl)("formlyAttributes",r.field),L("value",e.value)("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError),c(),f("for",r.id+"_"+n),c(),b(" ",e.label," ")}}function Kn(t,o){if(t&1&&(y(0,Jn,4,14,"div",1),j(1,"formlySelectOptions"),j(2,"async")),t&2){let e=h();f("ngForOf",q(2,4,Me(1,1,e.props.options,e.field)))}}var Yn=(()=>{class t extends ne{constructor(){super(...arguments),this.defaultOptions={props:{formCheck:"default"}}}get disabledControl(){return new fe({value:this.formControl.value,disabled:!0})}}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275cmp=g({type:t,selectors:[["formly-field-radio"]],standalone:!1,features:[F],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["class","form-check",3,"form-check-inline",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio",1,"form-check-input",3,"id","name","value","formControl","formlyAttributes"],[1,"form-check-label",3,"for"]],template:function(e,n){e&1&&y(0,Kn,3,6,"ng-template",null,0,C)},dependencies:[xe,_i,be,te,ie,J,_e,Ne],encapsulation:2,changeDetection:0}),t})(),zi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,K,Be,T.forChild({types:[{name:"radio",component:Yn,wrappers:["form-field"]}]})]]}),t})();var Xn=(t,o)=>({"form-check-inline":t,"form-switch":o});function eo(t,o){t&1&&(p(0,"span",6),s(1,"*"),a())}function to(t,o){if(t&1&&(p(0,"label",4),s(1),y(2,eo,2,0,"span",5),a()),t&2){let e=h(2);f("for",e.id),c(),b(" ",e.props.label," "),c(),f("ngIf",e.props.required&&e.props.hideRequiredMarker!==!0)}}function io(t,o){if(t&1&&(p(0,"div",1),x(1,"input",2),y(2,to,3,3,"label",3),a()),t&2){let e=h();f("ngClass",st(11,Xn,e.props.formCheck==="inline"||e.props.formCheck==="inline-switch",e.props.formCheck==="switch"||e.props.formCheck==="inline-switch")),c(),I("is-invalid",e.showError)("position-static",e.props.formCheck==="nolabel"),f("indeterminate",e.props.indeterminate&&e.formControl.value==null)("formControl",e.formControl)("formlyAttributes",e.field),L("aria-describedby",e.id+"-formly-validation-error")("aria-invalid",e.showError),c(),f("ngIf",e.props.formCheck!=="nolabel")}}var no=(()=>{class t extends ne{constructor(){super(...arguments),this.defaultOptions={props:{indeterminate:!0,hideLabel:!0,formCheck:"default"}}}}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275cmp=g({type:t,selectors:[["formly-field-checkbox"]],standalone:!1,features:[F],decls:2,vars:0,consts:[["fieldTypeTemplate",""],[1,"form-check",3,"ngClass"],["type","checkbox",1,"form-check-input",3,"indeterminate","formControl","formlyAttributes"],["class","form-check-label",3,"for",4,"ngIf"],[1,"form-check-label",3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"]],template:function(e,n){e&1&&y(0,io,3,14,"ng-template",null,0,C)},dependencies:[ve,ui,te,ie,J,le],encapsulation:2,changeDetection:0}),t})(),Ji=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,K,T.forChild({types:[{name:"checkbox",component:no,wrappers:["form-field"]},{name:"boolean",extends:"checkbox"}]})]]}),t})();var oo=(t,o)=>({"form-check-inline":t,"form-switch":o});function ro(t,o){if(t&1){let e=ee();p(0,"div",2)(1,"input",3),P("change",function(r){let l=Z(e).$implicit,m=h(2);return z(m.onChange(l.value,r.target.checked))}),a(),p(2,"label",4),s(3),a()()}if(t&2){let e=o.$implicit,n=o.index,r=h(2);f("ngClass",st(12,oo,r.props.formCheck==="inline"||r.props.formCheck==="inline-switch",r.props.formCheck==="switch"||r.props.formCheck==="inline-switch")),c(),I("is-invalid",r.showError),f("id",r.id+"_"+n)("value",e.value)("checked",r.isChecked(e))("formlyAttributes",r.field)("disabled",r.formControl.disabled||e.disabled),L("aria-describedby",r.id+"-formly-validation-error")("aria-invalid",r.showError),c(),f("for",r.id+"_"+n),c(),b(" ",e.label," ")}}function so(t,o){if(t&1&&(y(0,ro,4,15,"div",1),j(1,"formlySelectOptions"),j(2,"async")),t&2){let e=h();f("ngForOf",q(2,4,Me(1,1,e.props.options,e.field)))}}var lo=(()=>{class t extends ne{constructor(){super(...arguments),this.defaultOptions={props:{formCheck:"default"}}}onChange(e,n){this.formControl.markAsDirty(),this.props.type==="array"?this.formControl.patchValue(n?[...this.formControl.value||[],e]:[...this.formControl.value||[]].filter(r=>r!==e)):this.formControl.patchValue(ke(A({},this.formControl.value),{[e]:n})),this.formControl.markAsTouched()}isChecked(e){let n=this.formControl.value;return n&&(this.props.type==="array"?n.indexOf(e.value)!==-1:n[e.value])}}return t.\u0275fac=(()=>{let o;return function(n){return(o||(o=O(t)))(n||t)}})(),t.\u0275cmp=g({type:t,selectors:[["formly-field-multicheckbox"]],standalone:!1,features:[F],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["class","form-check",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-check",3,"ngClass"],["type","checkbox",1,"form-check-input",3,"change","id","value","checked","formlyAttributes","disabled"],[1,"form-check-label",3,"for"]],template:function(e,n){e&1&&y(0,so,3,6,"ng-template",null,0,C)},dependencies:[xe,ve,J,_e,Ne],encapsulation:2,changeDetection:0}),t})(),Ki=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,K,Be,T.forChild({types:[{name:"multicheckbox",component:lo,wrappers:["form-field"]}]})]]}),t})();function ao(t,o){if(t&1&&(p(0,"option",8),s(1),a()),t&2){let e=h().$implicit;f("ngValue",e.value)("disabled",e.disabled),c(),b(" ",e.label," ")}}function po(t,o){if(t&1&&(p(0,"option",8),s(1),a()),t&2){let e=o.$implicit;f("ngValue",e.value)("disabled",e.disabled),c(),b(" ",e.label," ")}}function mo(t,o){if(t&1&&(p(0,"optgroup",9),y(1,po,2,3,"option",10),a()),t&2){let e=h().$implicit;f("label",e.label),c(),f("ngForOf",e.group)}}function co(t,o){if(t&1&&(ye(0),y(1,ao,2,3,"option",7)(2,mo,2,2,"ng-template",null,2,C),ge()),t&2){let e=o.$implicit,n=Y(3);c(),f("ngIf",!e.group)("ngIfElse",n)}}function fo(t,o){if(t&1&&(ye(0),y(1,co,4,2,"ng-container",6),ge()),t&2){let e=o.ngIf;c(),f("ngForOf",e)}}function uo(t,o){if(t&1&&(p(0,"select",4),y(1,fo,2,1,"ng-container",5),j(2,"formlySelectOptions"),j(3,"async"),a()),t&2){let e=h(2);I("is-invalid",e.showError),f("formControl",e.formControl)("compareWith",e.props.compareWith)("formlyAttributes",e.field),L("aria-describedby",e.id+"-formly-validation-error")("aria-invalid",e.showError),c(),f("ngIf",q(3,11,Me(2,8,e.props.options,e.field)))}}function ho(t,o){if(t&1&&(p(0,"option",13),s(1),a()),t&2){let e=h(3);f("ngValue",void 0),c(),S(e.props.placeholder)}}function yo(t,o){if(t&1&&(p(0,"option",8),s(1),a()),t&2){let e=h().$implicit;f("ngValue",e.value)("disabled",e.disabled),c(),b(" ",e.label," ")}}function go(t,o){if(t&1&&(p(0,"option",8),s(1),a()),t&2){let e=o.$implicit;f("ngValue",e.value)("disabled",e.disabled),c(),b(" ",e.label," ")}}function vo(t,o){if(t&1&&(p(0,"optgroup",9),y(1,go,2,3,"option",10),a()),t&2){let e=h().$implicit;f("label",e.label),c(),f("ngForOf",e.group)}}function xo(t,o){if(t&1&&(ye(0),y(1,yo,2,3,"option",7)(2,vo,2,2,"ng-template",null,2,C),ge()),t&2){let e=o.$implicit,n=Y(3);c(),f("ngIf",!e.group)("ngIfElse",n)}}function _o(t,o){if(t&1&&(ye(0),y(1,xo,4,2,"ng-container",6),ge()),t&2){let e=o.ngIf;c(),f("ngForOf",e)}}function bo(t,o){if(t&1&&(p(0,"select",11),y(1,ho,2,2,"option",12)(2,_o,2,1,"ng-container",5),j(3,"formlySelectOptions"),j(4,"async"),a()),t&2){let e=h(2);I("is-invalid",e.showError),f("formControl",e.formControl)("compareWith",e.props.compareWith)("formlyAttributes",e.field),L("aria-describedby",e.id+"-formly-validation-error")("aria-invalid",e.showError),c(),f("ngIf",e.props.placeholder),c(),f("ngIf",q(4,12,Me(3,9,e.props.options,e.field)))}}function Fo(t,o){if(t&1&&y(0,uo,4,13,"select",3)(1,bo,5,14,"ng-template",null,1,C),t&2){let e=Y(2),n=h();f("ngIf",n.props.multiple)("ngIfElse",e)}}var Co=(()=>{class t extends ne{constructor(e,n){super(n),this.ngZone=e,this.defaultOptions={props:{compareWith(r,l){return r===l}}}}set selectAccessor(e){if(!e)return;let n=e.writeValue.bind(e);e._getOptionId(e.value)===null&&n(e.value),e.writeValue=r=>{let l=e._idCounter;n(r),r===null&&this.ngZone.onStable.asObservable().pipe(tt(1)).subscribe(()=>{l!==e._idCounter&&e._getOptionId(r)===null&&e._elementRef.nativeElement.selectedIndex!==-1&&n(r)})}}}return t.\u0275fac=function(e){return new(e||t)(v(ot),v(H))},t.\u0275cmp=g({type:t,selectors:[["formly-field-select"]],viewQuery:function(e,n){if(e&1&&Q(mt,5),e&2){let r;G(r=W())&&(n.selectAccessor=r.first)}},standalone:!1,features:[F],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["singleSelect",""],["optgroup",""],["class","form-select","multiple","",3,"formControl","compareWith","is-invalid","formlyAttributes",4,"ngIf","ngIfElse"],["multiple","",1,"form-select",3,"formControl","compareWith","formlyAttributes"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngValue","disabled",4,"ngIf","ngIfElse"],[3,"ngValue","disabled"],[3,"label"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"form-select",3,"formControl","compareWith","formlyAttributes"],[3,"ngValue",4,"ngIf"],[3,"ngValue"]],template:function(e,n){e&1&&y(0,Fo,3,2,"ng-template",null,0,C)},dependencies:[le,Fi,te,ie,J,xe,bi,Ci,mt,_e,Ne],encapsulation:2,changeDetection:0}),t})(),Yi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,K,Be,T.forChild({types:[{name:"select",component:Co,wrappers:["form-field"]},{name:"enum",extends:"select"}]})]]}),t})();var Eo=["fieldTypeTemplate"];function ko(t,o){if(t&1&&x(0,"i",7),t&2){let e=h(3);f("ngClass",e.props.addonLeft.class)}}function So(t,o){if(t&1&&(p(0,"span"),s(1),a()),t&2){let e=h(3);c(),S(e.props.addonLeft.text)}}function wo(t,o){if(t&1){let e=ee();p(0,"div",4),P("click",function(r){Z(e);let l=h(2);return z(l.addonLeftClick(r))}),y(1,ko,1,1,"i",5)(2,So,2,1,"span",6),a()}if(t&2){let e=h(2);I("input-group-btn",e.props.addonLeft.onClick),c(),f("ngIf",e.props.addonLeft.class),c(),f("ngIf",e.props.addonLeft.text)}}function Mo(t,o){if(t&1&&x(0,"i",7),t&2){let e=h(3);f("ngClass",e.props.addonRight.class)}}function Io(t,o){if(t&1&&(p(0,"span"),s(1),a()),t&2){let e=h(3);c(),S(e.props.addonRight.text)}}function Do(t,o){if(t&1){let e=ee();p(0,"div",4),P("click",function(r){Z(e);let l=h(2);return z(l.addonRightClick(r))}),y(1,Mo,1,1,"i",5)(2,Io,2,1,"span",6),a()}if(t&2){let e=h(2);I("input-group-btn",e.props.addonRight.onClick),c(),f("ngIf",e.props.addonRight.class),c(),f("ngIf",e.props.addonRight.text)}}function To(t,o){if(t&1&&(p(0,"div",2),y(1,wo,3,4,"div",3),qe(2,null,1),y(4,Do,3,4,"div",3),a()),t&2){let e=h();I("has-validation",e.showError),c(),f("ngIf",e.props.addonLeft),c(3),f("ngIf",e.props.addonRight)}}var Oo=(()=>{class t extends Ee{constructor(e){super(),this.hostContainerRef=e}set content(e){e&&this.hostContainerRef&&this.hostContainerRef.createEmbeddedView(e)}addonRightClick(e){this.props.addonRight.onClick?.(this.field,e)}addonLeftClick(e){this.props.addonLeft.onClick?.(this.field,e)}}return t.\u0275fac=function(e){return new(e||t)(v(H))},t.\u0275cmp=g({type:t,selectors:[["formly-wrapper-addons"]],viewQuery:function(e,n){if(e&1&&Q(Eo,7),e&2){let r;G(r=W())&&(n.content=r.first)}},standalone:!1,features:[F],decls:2,vars:0,consts:[["fieldTypeTemplate",""],["fieldComponent",""],[1,"input-group"],["class","input-group-text",3,"input-group-btn","click",4,"ngIf"],[1,"input-group-text",3,"click"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"ngClass"]],template:function(e,n){e&1&&y(0,To,5,4,"ng-template",null,0,C)},dependencies:[le,ve],styles:[`formly-wrapper-form-field .input-group-btn{cursor:pointer}
`],encapsulation:2}),t})();function Ro(t){!t.props||t.wrappers&&t.wrappers.indexOf("addons")!==-1||(t.props.addonLeft||t.props.addonRight)&&(t.wrappers=[...t.wrappers||[],"addons"])}var Xi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[V,D,T.forChild({wrappers:[{name:"addons",component:Oo}],extensions:[{name:"addons",extension:{postPopulate:Ro}}]})]]}),t})();var en=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=k({type:t}),t.\u0275inj=E({imports:[[K,qi,Zi,zi,Ji,Ki,Yi,Xi]]}),t})();var tn=(()=>{class t{constructor(){this.model20={level:"2.0"},this.model25={level:"2.5"},this.model30={level:"3.0"},this.model35={level:"3.5"},this.model40={level:"4.0"},this.model45={level:"4.5"},this.model50={level:"5.0"}}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=g({type:t,selectors:[["rating-dashboard"]],decls:101,vars:14,consts:[[1,"card-group","my-3"],[1,"card"],["routerLink","/rating/level20",1,"card-link","nounderline",3,"state"],[1,"card-body","card-body-small"],[1,"fas","fa-clipboard-list","fa-2x","text-primary"],[1,"d-flex","pl-3","font-weight-light","text-dark","text-nowrap"],["routerLink","/rating/level25",1,"card-link","nounderline",3,"state"],[1,"card-body"],[1,"fas","fa-clipboard-list","fa-2x","text-secondary"],["routerLink","/rating/level30",1,"card-link","nounderline",3,"state"],[1,"fas","fa-clipboard-list","fa-2x","text-success"],[1,"d-flex","pl-3","font-weight-light","text-dark"],["routerLink","/rating/level35",1,"card-link","nounderline",3,"state"],[1,"fas","fa-clipboard-list","fa-2x","text-danger"],["routerLink","/rating/level40",1,"card-link","nounderline",3,"state"],[1,"fas","fa-clipboard-list","fa-2x","text-info"],["routerLink","/rating/level45",1,"card-link","nounderline",3,"state"],[1,"fas","fa-clipboard-list","fa-2x","text-dark"],["routerLink","/rating/level50",1,"card-link","nounderline",3,"state"],[1,"fas","fa-clipboard-list","fa-2x","text-muted"]],template:function(n,r){n&1&&(p(0,"div",0),s(1,`
  `),p(2,"div",1),s(3,`
    `),p(4,"a",2),s(5,`
      `),p(6,"div",3),s(7,`
        `),x(8,"i",4),s(9,`
        `),p(10,"h2",5),s(11),a(),s(12,`
      `),a(),s(13,`
    `),a(),s(14,`
  `),a(),s(15,`

  `),p(16,"div",1),s(17,`
    `),p(18,"a",6),s(19,`
      `),p(20,"div",7),s(21,`
        `),x(22,"i",8),s(23,`
        `),p(24,"h2",5),s(25),a(),s(26,`
      `),a(),s(27,`
    `),a(),s(28,`
  `),a(),s(29,`
  `),p(30,"div",1),s(31,`
    `),p(32,"a",9),s(33,`
      `),p(34,"div",7),s(35,`
        `),x(36,"i",10),s(37,`
        `),p(38,"h2",11),s(39),a(),s(40,`
      `),a(),s(41,`
    `),a(),s(42,`
  `),a(),s(43,`
  `),p(44,"div",1),s(45,`
    `),p(46,"a",12),s(47,`
      `),p(48,"div",7),s(49,`
        `),x(50,"i",13),s(51,`
        `),p(52,"h2",11),s(53),a(),s(54,`
      `),a(),s(55,`
    `),a(),s(56,`
  `),a(),s(57,`
  `),p(58,"div",1),s(59,`
    `),p(60,"a",14),s(61,`
      `),p(62,"div",7),s(63,`
        `),x(64,"i",15),s(65,`
        `),p(66,"h2",11),s(67),a(),s(68,`
      `),a(),s(69,`
    `),a(),s(70,`
  `),a(),s(71,`
  `),p(72,"div",1),s(73,`
    `),p(74,"a",16),s(75,`
      `),p(76,"div",7),s(77,`
        `),x(78,"i",17),s(79,`
        `),p(80,"h2",11),s(81),a(),s(82,`
      `),a(),s(83,`
    `),a(),s(84,`
  `),a(),s(85,`
  `),p(86,"div",1),s(87,`
    `),p(88,"a",18),s(89,`
      `),p(90,"div",7),s(91,`
        `),x(92,"i",19),s(93,`
        `),p(94,"h2",11),s(95),a(),s(96,`
      `),a(),s(97,`
    `),a(),s(98,`
  `),a(),s(99,`
`),a(),s(100,`
`)),n&2&&(c(4),f("state",r.model20),c(7),S(r.model20.level),c(7),f("state",r.model25),c(7),S(r.model25.level),c(7),f("state",r.model30),c(7),S(r.model30.level),c(7),f("state",r.model35),c(7),S(r.model35.level),c(7),f("state",r.model40),c(7),S(r.model40.level),c(7),f("state",r.model45),c(7),S(r.model45.level),c(7),f("state",r.model50),c(7),S(r.model50.level))},dependencies:[Pi],styles:[".nounderline[_ngcontent-%COMP%]{text-decoration:none!important}"]})}}return t})();var nn={htmlType:"domObj",printMode:"template",pageTitle:"",templateString:"",popupProperties:"",stylesheets:[],styles:[],baseHref:""},Vt=()=>{let t=document.getElementsByTagName("head")[0],o=Math.round(Math.random()*9999999).toString(),e=`ngx-print-element-${o}`,n=`ngx-print-element-head-${o}`,r=`ngx-print-element-body-${o}`,l=`ngx-print-element-iframe-${o}`;return{head:t,nameUID:e,nameUIDHead:n,nameUIDBody:r,nameUIDIFrame:l}},jt=t=>{let o=document.createElement("style");o.innerHTML=Pt(t),o.id=`${t.nameUIDHead}`,t.head.appendChild(o)},Pt=t=>`
  @media print {
    .${t.nameUIDBody} {
      visibility: hidden !important;
    }
    .${t.nameUID},
    .${t.nameUID} * {
        visibility: visible !important;
    }
    .${t.nameUID} {
        position: absolute !important;
        left: 0 !important;
        top: 0 !important;
    }
    .${t.nameUID} .print-none {
        display: none !important;
    }
    /* ----- Author: DaiDH ----- */
    /* Copyright (C) 2022 - ${new Date().getFullYear()} */
  }`,Nt=t=>{let o=document.getElementById(t.nameUIDHead);o&&t.head.removeChild(o)},Ao=t=>{let o=window.location.port?`:${window.location.port}`:"",e=`${window.location.protocol}//${window.location.hostname}${o}${window.location.pathname}`;return t.baseHref?t.baseHref:e},on=(t,o,e)=>{let n=o.templateString,r=new RegExp(/{{\s*printBody\s*}}/gi),l,m,d=[];return o.htmlType==="domObj"&&(t=t.outerHTML),o.htmlType==="text"&&(t=t.innerText),n&&r.test(n)&&(t=n.replace(r,t)),d.push(`<html><head><title>${o.pageTitle||""}</title>`),o.stylesheets?l=Array.isArray(o.stylesheets)?o.stylesheets:[o.stylesheets]:l=Array.prototype.slice.call(document.getElementsByTagName("link")).map(u=>u),l.forEach(u=>{d.push(`<link rel="${u.rel}" href="${u.href}">`)}),o.styles?m=Array.isArray(o.styles)?[...o.styles,Pt(e)]:[o.styles+Pt(e)]:m=Array.prototype.slice.call(document.getElementsByTagName("style")).map(u=>u.innerHTML),m.forEach(u=>{d.push(`<style type="text/css">${u}</style>`)}),d.push(`<base href="${Ao(o)}"/>`),d.push(`</head><body class="${e.nameUID}">`),d.push(t),d.push("</body></html>"),d.join("")},Po=(t,o={},e)=>{try{let n=A(A({},nn),o),r=t.nativeElement,l=Vt(),m=window.open("about:blank","printElementWindow",n.popupProperties),d=m&&m.document,u=on(r,n,l);jt(l);let _=w=>{d.close(),m.close(),Nt(l),oe(e,{close:!0})};m.focus(),d.write(u),setTimeout(()=>_(m.print()),o&&o.windowOpenTimeout||500),m.onbeforeprint=w=>oe(e,w),m.onafterprint=w=>oe(e,w)}catch(n){oe(e,n)}},Vo=(t,o={},e)=>{try{let n=A(A({},nn),o),r=t.nativeElement,l=Vt(),m=on(r,n,l),d=document.createElement("iframe");d.setAttribute("id",l.nameUIDIFrame),d.setAttribute("class",l.nameUIDIFrame),d.setAttribute("src","about:blank"),d.setAttribute("frameBorder","0"),d.setAttribute("scrolling","no"),d.setAttribute("style","position:fixed;bottom:100%;right:100%;"),document.body.appendChild(d);let u=null;d.contentDocument?u=d.contentDocument:d.contentWindow&&(u=d.contentWindow.document),jt(l),setTimeout(()=>{let _=w=>{u.close(),Nt(l),d.remove(),oe(e,{close:!0})};d.contentWindow.focus(),u.open(),u.write(m),setTimeout(()=>_(d.contentWindow.print()),o&&o.windowOpenTimeout||200),d.contentWindow.onbeforeprint=w=>oe(e,w),d.contentWindow.onafterprint=w=>oe(e,w)})}catch(n){oe(e,n)}},jo=(t,o,e={},n)=>{try{let r=t.nativeElement,l=Vt(),m=Array.from(document.querySelectorAll("body"));m.length&&(m.forEach(u=>u&&u.classList.add(l.nameUIDBody)),o.addClass(r,l.nameUID),jt(l));let d=u=>{m.forEach(_=>_&&_.classList.remove(l.nameUIDBody)),o.setAttribute(r,"class",r.className.replace(l.nameUID,"")),Nt(l),oe(n,{close:!0})};window.focus(),setTimeout(()=>d(window.print()),e&&e.windowOpenTimeout||0),window.onbeforeprint=u=>oe(n,u),window.onafterprint=u=>oe(n,u)}catch(r){oe(n,r)}},oe=(t,o,e=null)=>{e?t.error(e):t.next(o)},Ke=(()=>{class t{renderer;print(e,n){let r=new et;return e&&(n?(n.printMode==="template"&&Vo(e,n,r),n.printMode==="template-popup"&&Po(e,n,r)):jo(e,this.renderer,n,r)),r}static \u0275fac=function(n){return new(n||t)};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rn=(()=>{class t{renderer;prints;constructor(e,n){this.renderer=e,this.prints=n}ngOnInit(){this.prints.renderer=this.renderer}static \u0275fac=function(n){return new(n||t)(v(Qe),v(Ke))};static \u0275dir=ce({type:t,selectors:[["","ngxPrintElement",""]]})}return t})();var ln=(()=>{class t{constructor(e){this.print=e}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||t)(v(Ke))}}static{this.\u0275cmp=g({type:t,selectors:[["app-rating"]],decls:8,vars:0,consts:[[1,"container-fluid"]],template:function(n,r){n&1&&(p(0,"div",0),s(1,`
  `),p(2,"h3"),s(3,"Skill Levels"),a(),s(4,`

  `),x(5,"rating-dashboard"),s(6,`
`),a(),s(7,`
`))},dependencies:[tn],encapsulation:2})}}return t})();var gt=(()=>{class t{constructor(e,n){this.tblGradesService=e,this.tblSkillsService=n,this.SelectRatingPlaceholder="Select a rating",this.TableGrades=this.tblGradesService.TableGrades,this.TableSkills=this.tblSkillsService.TableSkills,this.GeneralFields=[{className:"section-label",template:'<div class="alert alert-warning"><h4>Section 1 - Player Information</h4></div>'},{key:"playername",type:"input",templateOptions:{label:"Name",placeholder:"enter player name",required:!0}},{key:"playeremail",type:"input",templateOptions:{type:"email",label:"Email",placeholder:"enter player email",required:!0},validators:{validation:[this.EmailValidator]}},{key:"assessmentDate",type:"input",templateOptions:{label:"Assessment Date",placeholder:"Enter date",required:!0,type:"date"}}],this.SummaryFields=[{className:"section-label",template:'<div class="alert alert-info"><h4>Section 3 - Evaluator Information</h4></div>'},{key:"evaluatorname",type:"input",templateOptions:{label:"Name",placeholder:"enter evaluator name",required:!0}},{key:"evaluatoremail",type:"input",templateOptions:{type:"email",label:"Email",placeholder:"enter evaluator email",required:!0},validators:{validation:[this.EmailValidator]}},{key:"Notes",type:"textarea",props:{label:"Evaluation Notes",placeholder:"enter any notes about the assessment here",rows:5}},{key:"terms",type:"checkbox",templateOptions:{label:"I hereby declare that the assessment is true and correct to the best of my knowledge.",required:!0,pattern:"true",defaultValue:!1}}]}getGradeLetters(){var e=[];for(let n=0;n<this.TableGrades.length;n++)e.push({label:this.TableGrades[n].grade,value:this.TableGrades[n].grade});return e}EmailValidator(e){return/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e.value)?null:{email:!0}}EmailValidatorMessage(e,n){return`"${n?.formControl?.value}" is not a valid email address`}LstSkillcode(e){return e=e.toLocaleLowerCase(),this.TableSkills.filter(n=>n.level.toLocaleLowerCase().indexOf(e)!==-1)}static{this.\u0275fac=function(n){return new(n||t)(X(Vi),X(ji))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bo=["tableRef"];function Lo(t,o){if(t&1&&(s(0,`
          `),p(1,"tr"),s(2,`
            `),p(3,"td"),s(4),a(),s(5,`
            `),p(6,"td"),s(7),a(),s(8,`
            `),p(9,"td"),s(10,`
              `),p(11,"span",21),s(12),a(),s(13,`
            `),a(),s(14,`
          `),a(),s(15,`
          `)),t&2){let e=o.$implicit,n=h();c(4),S(e.Skillcode),c(3),S(e.Description),c(4),f("ngClass",n.getGradeColor(e.Rating)),c(),S(e.Rating)}}var Go=new Ve("ReportcardComponent"),Le=(()=>{class ReportcardComponent{constructor(t,o,e){this.formfieldControlService=t,this.router=o,this.print=e,this.config={printMode:"template",popupProperties:"toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=0,fullscreen=yes",pageTitle:"Hello World",templateString:"<header>I'm part of the template header</header>{{printBody}}<footer>I'm part of the template footer</footer>",stylesheets:[{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"}],styles:["header, footer{ text-align: center; }","body .bg-success{ background-color: #4dcf83 !important; }","body .bg-danger{ background-color: #f96868 !important; }"]},this.model={},this.colorGradeA="text-success fw-bolder",this.colorGradeB="text-info fw-bolder",this.colorGradeC="text-warning fw-bolder",this.colorGradeD="text-danger fw-bolder",this.objSkillRating=[]}ngOnInit(){var objSkillByLevel,skillcode,description,rating,evalString,filterLevel;Go.error(this.model),filterLevel=this.model.level,objSkillByLevel=this.formfieldControlService.LstSkillcode(filterLevel);for(let i=0;i<objSkillByLevel.length;i++)skillcode=objSkillByLevel[i].skillcode,description=objSkillByLevel[i].description,evalString="this.model['"+skillcode+"']",rating=eval(evalString),this.objSkillRating.push({Skillcode:skillcode,Description:description,Rating:rating})}getGradeColor(t){return{A:this.colorGradeA,B:this.colorGradeB,C:this.colorGradeC,D:this.colorGradeD}[t]||""}onPrint1(t){this.print.print(t).subscribe(console.log)}exportToJSON(){let t=(this.model.playername||"Unknown_Player").replace(/\s+/g,"_"),e=(this.model.assessmentDate||"Unknown_Date").replace(/-/g,""),n=`${t}_${e}_evaluation.json`,r=JSON.stringify(this.model,null,2),l=new Blob([r],{type:"application/json"}),m=URL.createObjectURL(l),d=document.createElement("a");d.href=m,d.download=n,d.click(),URL.revokeObjectURL(m)}static{this.\u0275fac=function(o){return new(o||ReportcardComponent)(v(gt),v(Ai),v(Ke))}}static{this.\u0275cmp=g({type:ReportcardComponent,selectors:[["app-reportcard"]],viewQuery:function(o,e){if(o&1&&Q(Bo,5),o&2){let n;G(n=W())&&(e.tableElement=n.first)}},inputs:{model:"model"},decls:144,vars:9,consts:[["tableRef",""],["ngxPrintElement","","id","printSection",1,"container-fluid"],[1,"d-flex","justify-content-between"],[1,"text-secondary"],[1,"ml-auto"],["ngbTooltip","Print the report card as a PDF document",1,"btn","btn-link","m-1","print-none",3,"click"],["ngbTooltip","Save the evaluation data locally as a file",1,"btn","btn-link","m-1","print-none",3,"click"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row","row-cols-2"],[1,"col"],["ng-if","!model['level']",1,"col"],[1,"card","mt-3"],[1,"table","mt-3"],["scope","col"],[1,"alert","alert-warning","mt-3"],[1,"text-success"],[1,"text-info"],[1,"text-warning"],[1,"text-danger"],[3,"ngClass"]],template:function(o,e){if(o&1){let n=ee();p(0,"div",1,0),s(2,`
  `),s(3,`

  `),p(4,"div",2),s(5,`
    `),p(6,"div"),s(7,`
      `),p(8,"h4",3),s(9,"Pickleball Report Card"),a(),s(10,`
    `),a(),s(11,`
    `),p(12,"div",4),s(13,`
      `),s(14,`
      `),p(15,"button",5),P("click",function(){return Z(n),z(e.onPrint1(e.tableElement))}),s(16,`
        Print PDF
      `),a(),s(17,`
      `),p(18,"button",6),P("click",function(){return Z(n),z(e.exportToJSON())}),s(19,`
        Download Evaluation
      `),a(),s(20,`
    `),a(),s(21,`
  `),a(),s(22,`

  `),p(23,"div",7),s(24,`
    `),p(25,"div",8),s(26,`
      `),p(27,"h5"),s(28,"Player Information"),a(),s(29,`
    `),a(),s(30,`
    `),p(31,"div",9),s(32,`
      `),p(33,"div",10),s(34,`
        `),p(35,"div",11)(36,"strong"),s(37,"Name:"),a(),s(38),a(),s(39,`
        `),p(40,"div",11)(41,"strong"),s(42,"Email:"),a(),s(43),a(),s(44,`
        `),p(45,"div",11)(46,"strong"),s(47,"Assessment Date:"),a(),s(48),j(49,"date"),a(),s(50,`
        `),p(51,"div",12)(52,"strong"),s(53,"Skill Level:"),a(),s(54),a(),s(55,`
      `),a(),s(56,`
    `),a(),s(57,`
  `),a(),s(58,`

  `),p(59,"div",13),s(60,`
    `),p(61,"div",8),s(62,`
      `),p(63,"h5"),s(64,"Skill Evaluation"),a(),s(65,`
    `),a(),s(66,`
    `),p(67,"div",9),s(68,`
      `),p(69,"table",14),s(70,`
        `),p(71,"thead"),s(72,`
          `),p(73,"tr"),s(74,`
            `),p(75,"th",15),s(76,"Skill Code"),a(),s(77,`
            `),p(78,"th",15),s(79,"Description"),a(),s(80,`
            `),p(81,"th",15),s(82,"Rating"),a(),s(83,`
          `),a(),s(84,`
        `),a(),s(85,`
        `),p(86,"tbody"),s(87,`
          `),ti(88,Lo,16,4,null,null,ei),a(),s(90,`
      `),a(),s(91,`
    `),a(),s(92,`
  `),a(),s(93,`

  `),p(94,"div",13),s(95,`
    `),p(96,"div",8),s(97,`
      `),p(98,"h5"),s(99,"Evaluator Information"),a(),s(100,`
    `),a(),s(101,`
    `),p(102,"div",9),s(103,`
      `),p(104,"div",10),s(105,`
        `),p(106,"div",11)(107,"strong"),s(108,"Name:"),a(),s(109),a(),s(110,`
        `),p(111,"div",11)(112,"strong"),s(113,"Email:"),a(),s(114),a(),s(115,`
      `),a(),s(116,`
      `),p(117,"strong"),s(118,"Evaluation Notes:"),a(),s(119),a(),s(120,`
  `),a(),s(121,`

  `),p(122,"div",16),s(123,`
    `),p(124,"strong"),s(125,"Rating Legend"),a(),s(126,`
    `),p(127,"ul"),s(128,`
      `),p(129,"li",17),s(130,"A = Solid, consistent performance"),a(),s(131,`
      `),p(132,"li",18),s(133,"B = Good basic form, but needs work"),a(),s(134,`
      `),p(135,"li",19),s(136,"C = Attempted but very poorly executed/needs work"),a(),s(137,`
      `),p(138,"li",20),s(139,"D = Not observed or not able to execute"),a(),s(140,`
    `),a(),s(141,`
  `),a(),s(142,`
`),a(),s(143,`
`)}o&2&&(c(38),b(" ",e.model.playername,""),c(5),b(" ",e.model.playeremail,""),c(5),b(" ",q(49,7,e.model.assessmentDate),""),c(6),b(" ",e.model.level,""),c(34),ii(e.objSkillRating),c(21),b(" ",e.model.evaluatorname,""),c(5),b(" ",e.model.evaluatoremail,""),c(5),b(" ",e.model.Notes,`
    `))},dependencies:[rn,ve,ci,ft,ct],encapsulation:2})}}return ReportcardComponent})();var mn=(()=>{class t{constructor(e){this.activeModal=e,this.title="Oopsy!",this.messsage="Please fill in all required form fields."}static{this.\u0275fac=function(n){return new(n||t)(v(ki))}}static{this.\u0275cmp=g({type:t,selectors:[["ngbd-modal-content"]],inputs:{title:"title",messsage:"messsage"},decls:20,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(p(0,"div",0),s(1,`
  `),p(2,"h4",1),s(3),a(),s(4,`
  `),p(5,"button",2),P("click",function(){return r.activeModal.dismiss("Cross click")}),a(),s(6,`
`),a(),s(7,`
`),p(8,"div",3),s(9,`
  `),p(10,"p"),s(11),a(),s(12,`
`),a(),s(13,`
`),p(14,"div",4),s(15,`
  `),p(16,"button",5),P("click",function(){return r.activeModal.close("Close click")}),s(17,"Close"),a(),s(18,`
`),a(),s(19,`
`)),n&2&&(c(3),S(r.title),c(8),S(r.messsage))},encapsulation:2})}}return t})();var dn=(()=>{class t{constructor(e){this.formfieldControlService=e,this.gradeLetters=this.formfieldControlService.getGradeLetters(),this.generalFields=this.formfieldControlService.GeneralFields,this.summaryFields=this.formfieldControlService.SummaryFields,this.selectRatingPlaceholder=this.formfieldControlService.SelectRatingPlaceholder}getFormFields(e){var n=this.formfieldControlService.LstSkillcode(e),r;switch(e){case"2.0":{r=N.evaluationInstruction.level20;break}case"2.5":{r=N.evaluationInstruction.level25;break}case"3.0":{r=N.evaluationInstruction.level30;break}case"3.5":{r=N.evaluationInstruction.level35;break}case"4.0":{r=N.evaluationInstruction.level40;break}case"4.5":{r=N.evaluationInstruction.level45;break}case"5.0":{r=N.evaluationInstruction.level50;break}default:{r="undefined";break}}this.ratingFields=[{key:"level"},{className:"section-label",template:r}];for(let l=0;l<n.length;l++)this.ratingFields.push({key:n[l].skillcode,type:"radio",props:{label:n[l].skillcode+" "+n[l].description,options:this.gradeLetters,required:!0,placeholder:this.selectRatingPlaceholder}});return this.fields=this.generalFields.concat(this.ratingFields).concat(this.summaryFields),this.fields}static{this.\u0275fac=function(n){return new(n||t)(X(gt))}}static{this.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $o(t,o){if(t&1&&(s(0,`
`),p(1,"p"),s(2),j(3,"json"),a(),s(4,`
`),p(5,"pre"),s(6),a(),s(7,`
`)),t&2){let e=h();c(2),b("Model: ",q(3,2,e.model),""),c(4),b("Active: ",e.active,"")}}var cn=new Ve("EvaluationComponent"),vt=(()=>{class t{constructor(e,n){this.serviceFormFields=e,this.modalService=n,this.form=new pe({}),this.modelChange=new Ue,this.active=1,this.options={},this.debug=!1,this.jsonText="",this.ValidEvaluationEvent=new Ue}ngOnInit(){cn.error(this.model);var e=this.model.level,n;switch(e){case"2.0":{n=N.evaluationInstruction.level20;break}case"2.5":{n=N.evaluationInstruction.level25;break}case"3.0":{n=N.evaluationInstruction.level30;break}case"3.5":{n=N.evaluationInstruction.level35;break}case"4.0":{n=N.evaluationInstruction.level40;break}case"4.5":{n=N.evaluationInstruction.level45;break}case"5.0":{n=N.evaluationInstruction.level50;break}default:{n="undefined";break}}this.fields=this.serviceFormFields.getFormFields(e)}submit(){cn.error(this.model),this.form.invalid?this.open():this.ValidEvaluationEvent.emit(this.form.valid)}open(){let e=this.modalService.open(mn)}onFileUpload(e){let n=e.target.files[0],r=new FileReader;r.onload=()=>{try{let l=JSON.parse(r.result);this.model=l,this.modelChange.emit(this.model)}catch{console.error("Invalid JSON file")}},r.readAsText(n)}static{this.\u0275fac=function(n){return new(n||t)(v(dn),v(Si))}}static{this.\u0275cmp=g({type:t,selectors:[["app-evaluation"]],inputs:{model:"model"},outputs:{modelChange:"modelChange",ValidEvaluationEvent:"ValidEvaluationEvent"},decls:37,vars:6,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-between"],[1,"text-secondary"],[1,"ml-auto"],["ngbTooltip","Upload evaluation data from a local file",1,"btn","btn-link","m-1","print-none"],["type","file","hidden","",3,"change"],[1,"fst-italic"],[3,"ngSubmit","formGroup"],[3,"model","fields","options","form"],[1,"d-flex","mt-3"],["type","submit","ngbTooltip","Submit the form and save changes",1,"btn","btn-primary","me-2"]],template:function(n,r){n&1&&(p(0,"div",0),s(1,`
  `),p(2,"div",1),s(3,`
    `),p(4,"div"),s(5,`
      `),p(6,"h4",2),s(7,"Evaluation Form"),a(),s(8,`
    `),a(),s(9,`
    `),p(10,"div",3),s(11,`
      `),s(12,`
      `),p(13,"label",4),s(14,`
        Upload Evaluation
        `),p(15,"input",5),P("change",function(m){return r.onFileUpload(m)}),a(),s(16,`
      `),a(),s(17,`
    `),a(),s(18,`
  `),a(),s(19,`

  `),p(20,"p",6),s(21,"Fields marked with * are required."),a(),s(22,`

  `),p(23,"form",7),P("ngSubmit",function(){return r.submit()}),s(24,`
    `),x(25,"formly-form",8),s(26,`
    `),p(27,"div",9),s(28,`
      `),p(29,"button",10),s(30,"Submit"),a(),s(31,`
    `),a(),s(32,`
  `),a(),s(33,`
`),a(),s(34,`

`),s(35,`

`),y(36,$o,8,4)),n&2&&(c(23),f("formGroup",r.form),c(2),f("model",r.model)("fields",r.fields)("options",r.options)("form",r.form),c(11),we(r.debug?36:-1))},dependencies:[D,vi,yi,pt,T,Hi,at,Pe,ft,ct],styles:[".container[_ngcontent-%COMP%]{max-width:600px}textarea[_ngcontent-%COMP%]{resize:none}"]})}}return t})();function Uo(t,o){if(t&1){let e=ee();s(0,`
        `),p(1,"app-evaluation",9),P("modelChange",function(r){Z(e);let l=h();return z(l.updateModel(r))})("ValidEvaluationEvent",function(r){Z(e);let l=h();return z(l.selectTab(r))}),a(),s(2,`
      `)}if(t&2){let e=h();c(),f("model",e.model)}}function Ho(t,o){if(t&1&&(s(0,`
        `),x(1,"app-reportcard",10),s(2,`
      `)),t&2){let e=h();c(),f("model",e.model)}}function Qo(t,o){if(t&1&&(s(0,`
`),p(1,"p"),s(2),j(3,"json"),a(),s(4,`
`)),t&2){let e=h();c(2),S(q(3,1,e.model))}}var qo=new Ve("FormComponent"),de=(()=>{class t{constructor(e){this.activatedRoute=e,this.form=new pe({}),this.active=1,this.disabled=!0,this.activatedRoute.data.subscribe(n=>{console.log(n),this.model=n.model,this.skillLevel=this.model.level})}selectTab(e){this.active=2,this.disabled=!e}ngOnInit(){this.logModel(),this.applyDebugMode()}logModel(){qo.error(this.model)}applyDebugMode(){this.debug=N.loadSampleData,this.debug&&(this.model=this.getUpdatedModel())}getUpdatedModel(){let e=this.model?.level;return this.updateModelBasedOnSkillLevel(e)}updateModelBasedOnSkillLevel(e){return e==="4.0"?N.sampleModel40:this.model}updateModel(e){this.model=e,console.log("Parent Model Updated:",this.model)}static{this.\u0275fac=function(n){return new(n||t)(v(Ri))}}static{this.\u0275cmp=g({type:t,selectors:[["app-form"]],decls:30,vars:7,consts:[["nav","ngbNav"],[1,"container-fluid"],[1,"text-secondary"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem","disabled"],[1,"mt-2",3,"ngbNavOutlet"],[3,"modelChange","ValidEvaluationEvent","model"],[3,"model"]],template:function(n,r){if(n&1){let l=ee();p(0,"div",1),s(1,`
  `),p(2,"h3",2),s(3),a(),s(4,`

  `),p(5,"ul",3,0),li("activeIdChange",function(d){return Z(l),si(r.active,d)||(r.active=d),z(d)}),s(7,`
    `),p(8,"li",4),s(9,`
      `),p(10,"a",5),s(11,"Evaluation"),a(),s(12,`
      `),y(13,Uo,3,1,"ng-template",6),s(14,`
    `),a(),s(15,`
    `),p(16,"li",7),s(17,`
      `),p(18,"a",5),s(19,"Report Card"),a(),s(20,`
      `),y(21,Ho,3,1,"ng-template",6),s(22,`
    `),a(),s(23,`
  `),a(),s(24,`

  `),s(25,`
  `),x(26,"div",8),s(27,`
`),a(),s(28,`

`),y(29,Qo,5,3)}if(n&2){let l=Y(6);c(3),b("Level ",r.skillLevel," Skill Assessment"),c(2),ri("activeId",r.active),c(3),f("ngbNavItem",1),c(8),f("ngbNavItem",2)("disabled",r.disabled),c(10),f("ngbNavOutlet",l),c(3),we(r.debug?29:-1)}},dependencies:[Ii,Mi,Di,wi,vt,Le,Ti,at,Pe],encapsulation:2})}}return t})();var Zo={level:"2.0"},zo={level:"2.5"},Jo={level:"3.0"},Ko={level:"3.5"},Yo={level:"4.0"},Xo={level:"4.5"},er={level:"5.0"},tr=[{path:"",component:ln,data:{title:"Skill Ratings"}},{path:"level20",component:de,data:{title:"Skill Assessment for 2.0 Players",model:Zo}},{path:"level25",component:de,data:{title:"Skill Assessment for 2.5 Players",model:zo}},{path:"level30",component:de,data:{title:"Skill Assessment for 3.0 Players",model:Jo}},{path:"level35",component:de,data:{title:"Skill Assessment for 3.5 Players",model:Ko}},{path:"level40",component:de,data:{title:"Skill Assessment for 4.0 Players",model:Yo}},{path:"level45",component:de,data:{title:"Skill Assessment for 4.5 Players",model:Xo}},{path:"level50",component:de,data:{title:"Skill Assessment for 5.0 Players",model:er}},{path:"reportcard",component:Le,data:{title:"Skill Assessment Report Card"}}],fn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=k({type:t})}static{this.\u0275inj=E({imports:[Et.forChild(tr),Et]})}}return t})();var Bt=(()=>{class t extends Re{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=O(t)))(r||t)}})()}static{this.\u0275cmp=g({type:t,selectors:[["formly-field-date-piker"]],features:[F],decls:14,vars:2,consts:[["d","ngbDatepicker"],[1,"input-group"],["ngbDatepicker","",1,"form-control",3,"formControl","formlyAttributes"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"]],template:function(n,r){if(n&1){let l=ee();p(0,"div",1),s(1,`
  `),x(2,"input",2,0),s(4,`
  `),p(5,"div",3),s(6,`
    `),p(7,"button",4),P("click",function(){Z(l);let d=Y(3);return z(d.toggle())}),s(8,`
      `),x(9,"i",5),s(10,`
    `),a(),s(11,`
  `),a(),s(12,`
`),a(),s(13,`
`)}n&2&&(c(2),f("formControl",r.formControl)("formlyAttributes",r.field))},dependencies:[Ei,D,be,te,ie,T,J],encapsulation:2})}}return t})();var ir=["fieldComponent"];function nr(t,o){}var un=(()=>{class t extends Ee{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=O(t)))(r||t)}})()}static{this.\u0275cmp=g({type:t,selectors:[["formly-wrapper-fieldset"]],viewQuery:function(n,r){if(n&1&&Q(ir,5,H),n&2){let l;G(l=W())&&(r.fieldComponent=l.first)}},features:[F],decls:6,vars:2,consts:[["fieldComponent",""],[1,"form-group"]],template:function(n,r){n&1&&(p(0,"div",1),s(1,`
  `),y(2,nr,0,0,"ng-template",null,0,C),s(4,`
`),a(),s(5,`
`)),n&2&&I("has-error",r.showError)},encapsulation:2})}}return t})();var or=["fieldComponent"];function rr(t,o){t&1&&s(0," * ")}function sr(t,o){if(t&1&&(s(0,`
`),p(1,"label",1),s(2),y(3,rr,1,0),a(),s(4,`
`)),t&2){let e=h();c(),L("for",e.id),c(),b(`
  `,e.to.label,`
  `),c(),we(e.to.required&&e.to.hideRequiredMarker!==!0?3:-1)}}function lr(t,o){}var hn=(()=>{class t extends Ee{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=O(t)))(r||t)}})()}static{this.\u0275cmp=g({type:t,selectors:[["formly-wrapper-label"]],viewQuery:function(n,r){if(n&1&&Q(or,5,H),n&2){let l;G(l=W())&&(r.fieldComponent=l.first)}},features:[F],decls:4,vars:1,consts:[["fieldComponent",""],[1,"form-control-label","control-label"]],template:function(n,r){n&1&&(y(0,sr,5,3)(1,lr,0,0,"ng-template",null,0,C),s(3,`
`)),n&2&&we(r.to.label?0:-1)},encapsulation:2})}}return t})();function ar(t){return/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(t.value)?null:{email:!0}}function pr(t,o){return`"${o?.formControl?.value}" is not a valid email address`}var na=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=k({type:t})}static{this.\u0275inj=E({imports:[V,Oi,D,T.forRoot({types:[{name:"date",component:Bt,wrappers:["label","fieldset"]}],wrappers:[{name:"label",component:hn},{name:"fieldset",component:un}],validationMessages:[{name:"required",message:"This field is required"},{name:"email",message:pr}],validators:[{name:"email",validation:ar}]}),Pe,en,fn,de,Le,vt,Bt]})}}return t})();export{ar as EmailValidator,pr as EmailValidatorMessage,na as RatingModule};
